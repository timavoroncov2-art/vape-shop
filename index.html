<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ñ–ò–ñ–ê –ú–ê–†–ö–ï–¢ | –ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–µ –∂–∏–¥–∫–æ—Å—Ç–∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #ff6b6b 0%, #ffa726 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            overflow: hidden;
            border: 3px solid #ffa726;
        }

        .header {
            background: linear-gradient(135deg, #ff4081, #ff6b6b);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
        }

        .logo {
            font-size: 3.5em;
            margin-bottom: 10px;
            font-weight: bold;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
        }

        .tagline {
            font-size: 1.4em;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .subtagline {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .promo-banner {
            background: linear-gradient(135deg, #4caf50, #8bc34a);
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            font-size: 1.3em;
            border-bottom: 3px solid #ffeb3b;
        }

        .nav {
            display: flex;
            background: #37474f;
            padding: 0;
        }

        .nav button {
            flex: 1;
            padding: 18px;
            border: none;
            background: #37474f;
            color: white;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s;
            border-right: 2px solid #455a64;
        }

        .nav button:last-child {
            border-right: none;
        }

        .nav button:hover {
            background: #ff6b6b;
        }

        .nav button.active {
            background: #ff4081;
            font-weight: bold;
        }

        .content {
            padding: 25px;
            min-height: 500px;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .product-card {
            border: 3px solid #e0e0e0;
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            transition: all 0.4s;
            position: relative;
            min-height: 320px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .product-card.delta {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c9);
            border-color: #4caf50;
        }

        .product-card.morozny {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-color: #2196f3;
        }

        .product-card.husky {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            border-color: #ff9800;
        }

        .product-card.malasian {
            background: linear-gradient(135deg, #f3e5f5, #e1bee7);
            border-color: #9c27b0;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }

        .brand-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .product-card h3 {
            margin-bottom: 12px;
            font-size: 1.2em;
            font-weight: bold;
            color: #d32f2f;
        }

        .flavor-description {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 10px;
            font-style: italic;
            line-height: 1.4;
        }

        .ingredients {
            color: #888;
            font-size: 0.8em;
            margin-bottom: 10px;
        }

        .product-card .price {
            font-size: 1.6em;
            font-weight: bold;
            margin: 12px 0;
            color: #e91e63;
        }

        .product-card .stock {
            font-weight: bold;
            margin: 12px 0;
            font-size: 1em;
        }

        .product-card .out-of-stock {
            color: #f44336;
            font-weight: bold;
        }

        .promo-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #ff6b6b, #ff4081);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            border: 2px solid white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .sold-out-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background: linear-gradient(135deg, #f44336, #d32f2f);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            border: 2px solid white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 2;
        }

        .product-card button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s;
            margin-top: 12px;
        }

        .product-card button:hover {
            background: linear-gradient(135deg, #43a047, #4caf50);
            transform: scale(1.05);
        }

        .product-card button:disabled {
            background: #bdbdbd;
            color: #757575;
            cursor: not-allowed;
            transform: none;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 2px solid #e0e0e0;
            background: #f8f9fa;
            margin-bottom: 15px;
            border-radius: 15px;
            transition: background 0.3s;
        }

        .cart-item:hover {
            background: #e9ecef;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: bold;
            color: #2d3436;
            font-size: 1.2em;
        }

        .cart-item-details {
            color: #636e72;
            font-size: 1em;
            margin-top: 5px;
        }

        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .cart-item-actions button {
            padding: 10px 15px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }

        .btn-remove {
            background: #f44336;
            color: white;
        }

        .btn-remove:hover {
            background: #d32f2f;
            transform: scale(1.1);
        }

        .btn-increase, .btn-decrease {
            background: #2196f3;
            color: white;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .btn-increase:hover, .btn-decrease:hover {
            background: #1976d2;
            transform: scale(1.1);
        }

        .cart-total {
            background: linear-gradient(135deg, #fff9c4, #fff59d);
            padding: 25px;
            border-radius: 20px;
            margin-top: 25px;
            text-align: center;
            border: 3px solid #ffeb3b;
        }

        .cart-total h3 {
            color: #2d3436;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .cart-actions {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .cart-actions button {
            flex: 1;
            padding: 20px;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn-checkout {
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
        }

        .btn-checkout:hover {
            background: linear-gradient(135deg, #43a047, #4caf50);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.3);
        }

        .btn-clear {
            background: linear-gradient(135deg, #f44336, #ef5350);
            color: white;
        }

        .btn-clear:hover {
            background: linear-gradient(135deg, #e53935, #f44336);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(244, 67, 54, 0.3);
        }

        .delivery-options {
            margin: 25px 0;
        }

        .delivery-option {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s;
        }

        .delivery-option:hover {
            background: #bbdefb;
            transform: translateX(10px);
        }

        .delivery-option.selected {
            border-color: #4caf50;
            background: #c8e6c9;
            transform: translateX(0);
        }

        .delivery-option input {
            margin-right: 15px;
            transform: scale(1.3);
        }

        .delivery-note {
            color: #e91e63;
            font-weight: bold;
            margin: 15px 0;
            text-align: center;
            font-size: 1.1em;
            padding: 15px;
            background: #fce4ec;
            border-radius: 10px;
            border-left: 5px solid #e91e63;
        }

        .order-summary {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            border: 3px solid #e9ecef;
        }

        .order-item {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 18px;
            background: white;
            border-radius: 12px;
            transition: background 0.3s;
            border: 2px solid #e0e0e0;
        }

        .order-item:hover {
            background: #f1f2f6;
        }

        .payment-info {
            background: #e8f5e9;
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            text-align: center;
            border: 3px solid #c8e6c9;
        }

        .payment-details {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            border: 2px solid #e8f5e9;
        }

        .bank-card {
            background: linear-gradient(135deg, #7b1fa2, #4a148c);
            color: white;
            padding: 25px;
            border-radius: 20px;
            margin: 20px 0;
            text-align: center;
            border: 3px solid #ffd600;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .bank-card h3 {
            color: #ffd600;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .card-number {
            font-size: 1.8em;
            font-weight: bold;
            letter-spacing: 3px;
            margin: 15px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .bank-info {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            font-size: 1.1em;
        }

        .screenshot-upload {
            border: 3px dashed #4caf50;
            padding: 40px;
            text-align: center;
            border-radius: 20px;
            margin: 25px 0;
            cursor: pointer;
            transition: all 0.3s;
            background: #f1f8e9;
        }

        .screenshot-upload:hover {
            background: #e8f5e8;
            border-color: #43a047;
            transform: scale(1.02);
        }

        .notification {
            position: fixed;
            top: 30px;
            right: 30px;
            padding: 20px 30px;
            background: #4caf50;
            color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.4s;
            font-weight: bold;
            font-size: 1.1em;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: #f44336;
        }

        .empty-state {
            text-align: center;
            padding: 60px;
            color: #636e72;
        }

        .empty-state i {
            font-size: 5em;
            margin-bottom: 25px;
            color: #bdbdbd;
        }

        .important-note {
            background: linear-gradient(135deg, #fff3e0, #ffecb3);
            border: 3px solid #ff9800;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
            font-weight: bold;
            color: #e65100;
        }

        .order-status-badge {
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            margin: 10px 0;
            text-align: center;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
            border: 2px solid #ffeaa7;
        }

        .status-confirmed {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .status-completed {
            background: #d1ecf1;
            color: #0c5460;
            border: 2px solid #bee5eb;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">üí® –ñ–ò–ñ–ê –ú–ê–†–ö–ï–¢</div>
            <div class="tagline">–ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–µ –∂–∏–¥–∫–æ—Å—Ç–∏ –¥–ª—è –≤–µ–π–ø–∞</div>
            <div class="subtagline">–¢–æ–ª—å–∫–æ –æ—Ä–∏–≥–∏–Ω–∞–ª ‚Ä¢ –ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ ‚Ä¢ –õ—É—á—à–∏–µ –≤–∫—É—Å—ã</div>
        </div>

        <div class="promo-banner">
            üéâ –í–´–ì–û–î–ù–ê–Ø –ê–ö–¶–ò–Ø: 1=400‚ÇΩ ‚Ä¢ 2=600‚ÇΩ ‚Ä¢ 3=900‚ÇΩ ‚Ä¢ 4=1200‚ÇΩ ‚Ä¢ 5=1500‚ÇΩ
        </div>

        <div class="nav">
            <button onclick="showSection('catalog')" class="active">üõçÔ∏è –ö–∞—Ç–∞–ª–æ–≥</button>
            <button onclick="showSection('cart')">üõí –ö–æ—Ä–∑–∏–Ω–∞</button>
            <button onclick="showSection('myOrders')">üì¶ –ú–æ–∏ –∑–∞–∫–∞–∑—ã</button>
            <button onclick="showAdminSection()">‚öôÔ∏è –ê–¥–º–∏–Ω</button>
        </div>

        <div class="content">
            <!-- –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ -->
            <div id="catalog" class="section active">
                <h2 style="text-align: center; color: #d32f2f; margin-bottom: 10px;">üéØ –í—ã–±–µ—Ä–∏ —Å–≤–æ—é –∂–∏–∂—É</h2>
                <p style="text-align: center; color: #666; margin-bottom: 25px; font-size: 1.1em;">
                    –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –≤–∫—É—Å—ã ‚Ä¢ –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –±—Ä–µ–Ω–¥—ã
                </p>
                <div class="products-grid" id="productsGrid">
                    <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                </div>
            </div>

            <!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
            <div id="cart" class="section">
                <h2 style="text-align: center; color: #d32f2f;">üõí –¢–≤–æ–π –∑–∞–∫–∞–∑</h2>
                <div id="cartItems">
                    <!-- –¢–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ -->
                </div>
                <div class="cart-total">
                    <h3>–ò—Ç–æ–≥–æ: <span id="totalAmount">0</span> ‚ÇΩ</h3>
                    <div id="promoSavings" style="color: #2e7d32; font-weight: bold; margin: 15px 0; font-size: 1.2em;"></div>
                    
                    <!-- –í–´–ë–û–† –î–û–°–¢–ê–í–ö–ò -->
                    <div class="delivery-options">
                        <div class="delivery-option" onclick="selectDelivery('self')" id="deliverySelf">
                            <input type="radio" name="delivery" id="radioSelf"> 
                            <label for="radioSelf"><strong>‚úÖ –°–∞–º–æ–≤—ã–≤–æ–∑ - –ë–ï–°–ü–õ–ê–¢–ù–û</strong><br>
                            <small>–ê–∫—Ü–∏—è: 2 –±–∞–Ω–∫–∏ = 600‚ÇΩ, 3 –±–∞–Ω–∫–∏ = 900‚ÇΩ –∏ —Ç.–¥.</small></label>
                        </div>
                        <div class="delivery-option" onclick="selectDelivery('city')" id="deliveryCity">
                            <input type="radio" name="delivery" id="radioCity">
                            <label for="radioCity"><strong>üöö –î–æ—Å—Ç–∞–≤–∫–∞: +100 ‚ÇΩ</strong><br>
                            <small>–ë–µ–∑ –∞–∫—Ü–∏–∏ - –≤—Å–µ –±–∞–Ω–∫–∏ –ø–æ 400‚ÇΩ</small></label>
                        </div>
                    </div>
                    
                    <div id="deliveryNote" class="delivery-note"></div>
                    
                    <div class="cart-actions">
                        <button class="btn-clear" onclick="clearCart()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É</button>
                        <button class="btn-checkout" onclick="checkout()">‚úÖ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
                    </div>
                </div>
            </div>

            <!-- –ú–æ–∏ –∑–∞–∫–∞–∑—ã -->
            <div id="myOrders" class="section">
                <h2 style="text-align: center; color: #d32f2f;">üì¶ –ú–æ–∏ –∑–∞–∫–∞–∑—ã</h2>
                <div id="userOrdersList">
                    <!-- –ó–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                </div>
            </div>

            <!-- –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ -->
            <div id="checkout" class="section">
                <h2 style="text-align: center; color: #d32f2f;">üìã –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h2>
                <div class="order-summary" id="orderSummary">
                    <!-- –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞ -->
                </div>
                <div class="cart-actions">
                    <button class="btn-clear" onclick="showSection('cart')">‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑</button>
                    <button class="btn-checkout" onclick="showPayment()">üí≥ –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ</button>
                </div>
            </div>

            <!-- –û–ø–ª–∞—Ç–∞ -->
            <div id="payment" class="section">
                <h2 style="text-align: center; color: #d32f2f;">üí≥ –û–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞</h2>
                
                <div class="important-note">
                    ‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –û–ü–õ–ê–¢–ê –¢–û–õ–¨–ö–û –ù–ê –ö–ê–†–¢–£ <strong>–í–¢–ë</strong>
                </div>

                <div class="payment-info">
                    <h3>–†–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã:</h3>
                    
                    <div class="bank-card">
                        <h3>üí≥ –ë–ê–ù–ö–û–í–°–ö–ê–Ø –ö–ê–†–¢–ê –í–¢–ë</h3>
                        <div class="card-number">2200 2402 4830 5209</div>
                        <div class="bank-info">
                            <div><strong>–ë–∞–Ω–∫:</strong> –í–¢–ë</div>
                            <div><strong>–ü–æ–ª—É—á–∞—Ç–µ–ª—å:</strong> –î–∞–Ω–∏–ª –û.</div>
                        </div>
                    </div>
                    
                    <div class="payment-details">
                        <strong>–ö–∞—Ä—Ç–∞:</strong> <span style="color: #d32f2f; font-weight: bold;">2200 2402 4830 5209</span><br>
                        <strong>–ë–∞–Ω–∫:</strong> <span style="color: #d32f2f; font-weight: bold;">–í–¢–ë</span><br>
                        <strong>–ü–æ–ª—É—á–∞—Ç–µ–ª—å:</strong> –î–∞–Ω–∏–ª –û.<br>
                        <strong>–°—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ:</strong> <span id="paymentAmount" style="color: #d32f2f; font-weight: bold;">0</span> ‚ÇΩ
                    </div>
                    
                    <p style="color: #d32f2f; font-weight: bold; margin-top: 15px; font-size: 1.1em;">
                        ‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: –û–ø–ª–∞—Ç–∏—Ç–µ –¢–û–ß–ù–£–Æ —Å—É–º–º—É –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç —á–µ–∫–∞
                    </p>
                </div>

                <div class="screenshot-upload" onclick="document.getElementById('fileInput').click()">
                    <h3>üìé –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç —á–µ–∫–∞ –æ–± –æ–ø–ª–∞—Ç–µ</h3>
                    <p>–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ —á–µ–∫–∞ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –í–¢–ë</p>
                    <input type="file" id="fileInput" accept="image/*" style="display: none;" onchange="handleFileUpload(this.files)">
                </div>
                <div id="uploadPreview"></div>

                <div class="cart-actions">
                    <button class="btn-clear" onclick="showSection('checkout')">‚Üê –ù–∞–∑–∞–¥</button>
                    <button class="btn-checkout" id="confirmPaymentBtn" onclick="confirmPayment()" disabled>
                        ‚úÖ –Ø –æ–ø–ª–∞—Ç–∏–ª –Ω–∞ –∫–∞—Ä—Ç—É –í–¢–ë –∏ –ø—Ä–∏–∫—Ä–µ–ø–∏–ª —Å–∫—Ä–∏–Ω—à–æ—Ç
                    </button>
                </div>
            </div>

            <!-- –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ -->
            <div id="orderStatus" class="section">
                <h2 style="text-align: center; color: #d32f2f;">üì¶ –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞</h2>
                <div class="order-status-badge status-pending">
                    –û–∂–∏–¥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–ø–ª–∞—Ç—ã...
                </div>
                <div class="order-summary" id="finalOrderSummary">
                    <!-- –§–∏–Ω–∞–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞ -->
                </div>
                
                <!-- –î–û–ë–ê–í–õ–ï–ù–ù–û–ï –°–û–û–ë–©–ï–ù–ò–ï –û –ü–†–û–í–ï–†–ö–ï -->
                <div style="background: #e3f2fd; padding: 25px; border-radius: 20px; margin: 25px 0; border: 3px solid #2196f3;">
                    <h3 style="color: #1976d2; text-align: center; margin-bottom: 15px;">üîÑ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–ª–∞—Ç—ã</h3>
                    <div style="text-align: center; font-size: 1.1em;">
                        <p><strong>–ú—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞—à—É –æ–ø–ª–∞—Ç—É –ø–æ —Å–∫—Ä–∏–Ω—à–æ—Ç—É</strong></p>
                        <p>–û–±—ã—á–Ω–æ —ç—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç <strong>5-15 –º–∏–Ω—É—Ç</strong></p>
                        <p>–ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</p>
                    </div>
                    
                    <div style="background: #bbdefb; padding: 20px; border-radius: 15px; margin-top: 20px; text-align: center;">
                        <h4 style="color: #1565c0; margin-bottom: 10px;">üìû –ù–∞–ø–∏—Å–∞—Ç—å –≤ Telegram</h4>
                        <p style="font-size: 1.2em; font-weight: bold; color: #d32f2f;">
                            @spank46
                        </p>
                        <p style="margin-top: 10px; color: #555;">
                            –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–ª–∏ –ø–æ –ª—é–±—ã–º –≤–æ–ø—Ä–æ—Å–∞–º
                        </p>
                    </div>
                    
                    <div style="margin-top: 20px; padding: 15px; background: #fff8e1; border-radius: 12px; border-left: 5px solid #ffa000;">
                        <p style="color: #e65100; font-weight: bold;">üí° –í–∞–∂–Ω–æ:</p>
                        <p style="margin-top: 8px;">–û–∂–∏–¥–∞–π—Ç–µ –æ—Ç–≤–µ—Ç–∞ –≤ Telegram –æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –æ–ø–ª–∞—Ç—ã. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –æ–ø–ª–∞—Ç–∞ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞, —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –∏–∑–º–µ–Ω–∏—Ç—Å—è.</p>
                    </div>
                </div>
                
                <div class="cart-actions">
                    <button class="btn-checkout" onclick="showSection('catalog')">üõçÔ∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏</button>
                    <button class="btn-checkout" onclick="showSection('myOrders')" style="background: linear-gradient(135deg, #2196f3, #21cbf3);">
                        üì¶ –ú–æ–∏ –∑–∞–∫–∞–∑—ã
                    </button>
                </div>
            </div>

            <!-- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å -->
            <div id="admin" class="section">
                <div id="adminLogin" style="background: #37474f; padding: 30px; border-radius: 20px; text-align: center; color: white;">
                    <h2>üîê –í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
                    <input type="password" id="adminPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" 
                           style="padding: 15px; width: 250px; margin: 20px; border-radius: 10px; border: 3px solid #455a64; font-size: 16px;">
                    <br>
                    <button class="btn-checkout" onclick="loginToAdmin()" 
                            style="padding: 15px 40px; font-size: 18px;">–í–æ–π—Ç–∏</button>
                </div>
                <div style="background: #37474f; color: white; padding: 25px; border-radius: 20px; margin-top: 20px; display: none;" id="adminPanel">
                    <h2 style="text-align: center;">‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 25px 0;">
                        <div style="background: #455a64; padding: 25px; border-radius: 15px; text-align: center;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #ff6b6b;" id="totalOrders">0</div>
                            <div>–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤</div>
                        </div>
                        <div style="background: #455a64; padding: 25px; border-radius: 15px; text-align: center;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #4caf50;" id="totalRevenue">0</div>
                            <div>–í—ã—Ä—É—á–∫–∞</div>
                        </div>
                        <div style="background: #455a64; padding: 25px; border-radius: 15px; text-align: center;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #2196f3;" id="completedOrders">0</div>
                            <div>–ó–∞–≤–µ—Ä—à–µ–Ω–æ</div>
                        </div>
                    </div>
                    <div id="ordersList">
                        <!-- –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="notification" id="notification"></div>

    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Telegram
        const TELEGRAM_BOT_TOKEN = '8368198224:AAFal9lXTHHIRD4rn-d0FqeVBKpVQrng88M';
        const TELEGRAM_CHAT_ID = '1423502260';
        const TELEGRAM_GROUP_ID = '-1003277435312';
        const FRIEND_CHAT_ID = '6007551643';

        // –ê–¥–º–∏–Ω –ø–∞—Ä–æ–ª—å
        const ADMIN_PASSWORD = 'admin123';

        // –î–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∫—Ä–∞—Å–∏–≤—ã–º–∏ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏
        let products = {
            // D.L.T.A.
            "delta_chicken": { 
                name: "D.L.T.A. - –ì—Ä—É–¥–∫–∞ –∏ –∫–æ—Ä–∏—Ü–∞", 
                price: 400, 
                stock: 1, 
                category: "delta",
                icon: "üçó",
                description: "–°–º–µ–ª—ã–π –≤–∫—É—Å –∫–æ–ø—á–µ–Ω–æ–π –∫—É—Ä–∏–Ω–æ–π –≥—Ä—É–¥–∫–∏ —Å —Ç–µ–ø–ª—ã–º–∏ –Ω–æ—Ç–∞–º–∏ –∫–æ—Ä–∏—Ü—ã",
                ingredients: "–¢–∞–±–∞–∫, –∫–æ—Ä–∏—Ü–∞, –∫–æ–ø—á–µ–Ω–æ—Å—Ç–∏"
            },
            "delta_pear": { 
                name: "D.L.T.A. - –ì—Ä—É—à–∞ –∏ –∫–æ—Ä–∏—Ü–∞", 
                price: 400, 
                stock: 1, 
                category: "delta",
                icon: "üçê",
                description: "–°–æ—á–Ω–∞—è —Å–ø–µ–ª–∞—è –≥—Ä—É—à–∞ –≤ –æ–±—ä—è—Ç–∏—è—Ö –∞—Ä–æ–º–∞—Ç–Ω–æ–π –∫–æ—Ä–∏—Ü—ã",
                ingredients: "–ì—Ä—É—à–∞, –∫–æ—Ä–∏—Ü–∞, –≤–∞–Ω–∏–ª—å"
            },
            "delta_irga1": { 
                name: "D.L.T.A. - –°–æ –≤–∫—É—Å–æ–º –∏—Ä–≥–∏", 
                price: 400, 
                stock: 1, 
                category: "delta",
                icon: "üçá",
                description: "–ù–µ–∂–Ω–∞—è –∏—Ä–≥–∞ —Å –ª–µ–≥–∫–æ–π –∫–∏—Å–ª–∏–Ω–∫–æ–π –∏ —è–≥–æ–¥–Ω—ã–º –ø–æ—Å–ª–µ–≤–∫—É—Å–∏–µ–º",
                ingredients: "–ò—Ä–≥–∞, –ª–µ—Å–Ω—ã–µ —è–≥–æ–¥—ã, –º—è—Ç–∞"
            },
            "delta_irga2": { 
                name: "D.L.T.A. - –°–æ –≤–∫—É—Å–æ–º –∏—Ä–≥–∏", 
                price: 400, 
                stock: 1, 
                category: "delta",
                icon: "üçá",
                description: "–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –≤–∫—É—Å –¥–∏–∫–æ–π –∏—Ä–≥–∏ —Å –º–µ–¥–æ–≤—ã–º–∏ –Ω–æ—Ç–∫–∞–º–∏",
                ingredients: "–ò—Ä–≥–∞, –º–µ–¥, –¥–∏–∫–∏–µ —è–≥–æ–¥—ã"
            },
            
            // –ú–û–†–û–ó–ù–´–ô –î–ñ–û
            "morozny_currant": { 
                name: "–ú–û–†–û–ó–ù–´–ô –î–ñ–û - –°–º–æ—Ä–æ–¥–∏–Ω–∞ —Ö–≤–æ—è –∏ –º—è—Ç–∞", 
                price: 400, 
                stock: 1, 
                category: "morozny",
                icon: "‚ùÑÔ∏è",
                description: "–û—Å–≤–µ–∂–∞—é—â–∏–π –º–∏–∫—Å —á–µ—Ä–Ω–æ–π —Å–º–æ—Ä–æ–¥–∏–Ω—ã, —Ö–≤–æ–π–Ω–æ–≥–æ –ª–µ—Å–∞ –∏ –º—è—Ç—ã",
                ingredients: "–°–º–æ—Ä–æ–¥–∏–Ω–∞, —Ö–≤–æ—è, –º—è—Ç–∞, –º–µ–Ω—Ç–æ–ª"
            },
            
            // –•–ê–°–ö–ò-–ú–ò–®–ö–ò
            "husky_kiwi": { 
                name: "–•–ê–°–ö–ò-–ú–ò–®–ö–ò - –ö–∏–≤–∏ –º—è—Ç–∞", 
                price: 400, 
                stock: 1, 
                category: "husky",
                icon: "üê∫",
                description: "–≠–∫–∑–æ—Ç–∏—á–µ—Å–∫–∏–π –∫–∏–≤–∏ —Å –ø—Ä–æ—Ö–ª–∞–¥–Ω–æ–π –º—è—Ç–æ–π - –∏–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ",
                ingredients: "–ö–∏–≤–∏, –º—è—Ç–∞, –ª–∞–π–º"
            },
            "husky_strawberry": { 
                name: "–•–ê–°–ö–ò-–ú–ò–®–ö–ò - –ö–ª—É–±–Ω–∏–∫–∞ –±–∞–Ω–∞–Ω", 
                price: 400, 
                stock: 1, 
                category: "husky",
                icon: "üê∫",
                description: "–°–ª–∞–¥–∫–∞—è –∫–ª—É–±–Ω–∏–∫–∞ –∏ –Ω–µ–∂–Ω—ã–π –±–∞–Ω–∞–Ω –≤ –∫—Ä–µ–º–æ–≤–æ–π –æ—Å–Ω–æ–≤–µ",
                ingredients: "–ö–ª—É–±–Ω–∏–∫–∞, –±–∞–Ω–∞–Ω, —Å–ª–∏–≤–∫–∏"
            },
            "husky_berries": { 
                name: "–•–ê–°–ö–ò-–ú–ò–®–ö–ò - –ë–æ—à–∫–∏ —è–≥–æ–¥—ã", 
                price: 400, 
                stock: 1, 
                category: "husky",
                icon: "üê∫",
                description: "–ú–∏–∫—Å –ª–µ—Å–Ω—ã—Ö —è–≥–æ–¥ —Å —Ö–≤–æ–π–Ω—ã–º–∏ –Ω–æ—Ç–∞–º–∏ –∏ —Å–ª–∞–¥–∫–∏–º –ø–æ—Å–ª–µ–≤–∫—É—Å–∏–µ–º",
                ingredients: "–õ–µ—Å–Ω—ã–µ —è–≥–æ–¥—ã, —Ö–≤–æ—è, –º–∞–ª–∏–Ω–∞"
            },
            
            // MALASIAN
            "malasian_lime": { 
                name: "MALASIAN - –õ–∞–π–º –∫–∏–≤–∏", 
                price: 400, 
                stock: 1, 
                category: "malasian",
                icon: "ü•ù",
                description: "–¢—Ä–æ–ø–∏—á–µ—Å–∫–∏–π –¥—É—ç—Ç —Å–æ—á–Ω–æ–≥–æ –ª–∞–π–º–∞ –∏ —Å–ø–µ–ª–æ–≥–æ –∫–∏–≤–∏",
                ingredients: "–õ–∞–π–º, –∫–∏–≤–∏, —Ç—Ä–æ–ø–∏—á–µ—Å–∫–∏–µ —Ñ—Ä—É–∫—Ç—ã"
            },
            "malasian_grape": { 
                name: "MALASIAN - –í–∏–Ω–æ–≥—Ä–∞–¥ –º–∞—Ä–º–µ–ª–∞–¥", 
                price: 400, 
                stock: 1, 
                category: "malasian",
                icon: "üçá",
                description: "–°–ª–∞–¥–∫–∏–π –≤–∏–Ω–æ–≥—Ä–∞–¥ –≤ –≤–∏–¥–µ –Ω–µ–∂–Ω–æ–≥–æ –º–∞—Ä–º–µ–ª–∞–¥–∞",
                ingredients: "–í–∏–Ω–æ–≥—Ä–∞–¥, –º–∞—Ä–º–µ–ª–∞–¥, —Å–∞—Ö–∞—Ä–Ω–∞—è –ø—É–¥—Ä–∞"
            },
            "malasian_passion": { 
                name: "MALASIAN - –ú–∞—Ä–∞–∫—É–π—è –∑–µ–ª–µ–Ω–æ–µ —è–±–ª–æ–∫–æ", 
                price: 400, 
                stock: 1, 
                category: "malasian",
                icon: "üçè",
                description: "–≠–∫–∑–æ—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Ä–∞–∫—É–π—è –∏ —Ö—Ä—É—Å—Ç—è—â–µ–µ –∑–µ–ª–µ–Ω–æ–µ —è–±–ª–æ–∫–æ",
                ingredients: "–ú–∞—Ä–∞–∫—É–π—è, –∑–µ–ª–µ–Ω–æ–µ —è–±–ª–æ–∫–æ, —Ü–∏—Ç—Ä—É—Å—ã"
            },
            "malasian_cherry": { 
                name: "MALASIAN - –õ–∏—Å—Ç –≤–∏—à–Ω–µ–≤—ã–π —Å–æ–∫", 
                price: 400, 
                stock: 1, 
                category: "malasian",
                icon: "üçí",
                description: "–ù–∞—Å—ã—â–µ–Ω–Ω—ã–π –≤–∏—à–Ω–µ–≤—ã–π —Å–æ–∫ —Å –Ω–æ—Ç–∞–º–∏ –≤–∏—à–Ω–µ–≤–æ–≥–æ –ª–∏—Å—Ç–∞",
                ingredients: "–í–∏—à–Ω—è, –≤–∏—à–Ω–µ–≤—ã–π –ª–∏—Å—Ç, —è–≥–æ–¥—ã"
            },
            "malasian_raspberry": { 
                name: "MALASIAN - –ú–∞–ª–∏–Ω–∞ –±–∞–Ω–∞–Ω", 
                price: 400, 
                stock: 1, 
                category: "malasian",
                icon: "üçå",
                description: "–ê—Ä–æ–º–∞—Ç–Ω–∞—è –º–∞–ª–∏–Ω–∞ –∏ —Å–ø–µ–ª—ã–π –±–∞–Ω–∞–Ω –≤ —Å–ª–∏–≤–æ—á–Ω–æ–π –æ—Å–Ω–æ–≤–µ",
                ingredients: "–ú–∞–ª–∏–Ω–∞, –±–∞–Ω–∞–Ω, –≤–∞–Ω–∏–ª—å, —Å–ª–∏–≤–∫–∏"
            },
            "malasian_forest": { 
                name: "MALASIAN - –ö—Ä–∞—Å–Ω—ã–µ –ª–µ—Å–Ω—ã–µ —è–≥–æ–¥—ã", 
                price: 400, 
                stock: 1, 
                category: "malasian",
                icon: "üå≤",
                description: "–ë—É–∫–µ—Ç –∫—Ä–∞—Å–Ω—ã—Ö –ª–µ—Å–Ω—ã—Ö —è–≥–æ–¥: –º–∞–ª–∏–Ω–∞, –∑–µ–º–ª—è–Ω–∏–∫–∞, –±—Ä—É—Å–Ω–∏–∫–∞",
                ingredients: "–õ–µ—Å–Ω—ã–µ —è–≥–æ–¥—ã, –º–∞–ª–∏–Ω–∞, –∑–µ–º–ª—è–Ω–∏–∫–∞, –±—Ä—É—Å–Ω–∏–∫–∞"
            }
        };

        // –ö–æ—Ä–∑–∏–Ω–∞ –∏ –∑–∞–∫–∞–∑—ã
        let cart = {};
        let orders = JSON.parse(localStorage.getItem('orders')) || [];
        let currentOrder = null;
        let uploadedScreenshot = null;
        let isAdminLoggedIn = false;
        let deliveryType = 'self';
        let deliveryCost = 0;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            loadProducts();
            loadCart();
            renderProducts();
            selectDelivery('self');
            renderCart();
            renderUserOrders();
            showNotification('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ñ–ò–ñ–ê –ú–ê–†–ö–ï–¢! üöÄ', 'success');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏–∑ localStorage
        function loadProducts() {
            const savedProducts = localStorage.getItem('products');
            if (savedProducts) {
                products = JSON.parse(savedProducts);
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ localStorage
        function saveProducts() {
            localStorage.setItem('products', JSON.stringify(products));
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–¥–µ–ª
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.querySelectorAll('.nav button').forEach(button => {
                button.classList.remove('active');
            });
            
            document.getElementById(sectionId).classList.add('active');
            
            if (sectionId === 'myOrders') {
                renderUserOrders();
            }
            
            if (sectionId === 'catalog') {
                renderProducts();
            }
            
            if (event && event.target) {
                event.target.classList.add('active');
            }
        }

        function showAdminSection() {
            if (isAdminLoggedIn) {
                showSection('admin');
                renderAdminStats();
            } else {
                showSection('admin');
                document.getElementById('adminLogin').style.display = 'block';
                document.getElementById('adminPanel').style.display = 'none';
            }
        }

        function loginToAdmin() {
            const password = document.getElementById('adminPassword').value;
            if (password === ADMIN_PASSWORD) {
                isAdminLoggedIn = true;
                document.getElementById('adminLogin').style.display = 'none';
                document.getElementById('adminPanel').style.display = 'block';
                renderAdminStats();
                showNotification('–£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å! üîê', 'success');
            } else {
                showNotification('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å! ‚ùå', 'error');
            }
        }

        // –í—ã–±–æ—Ä –¥–æ—Å—Ç–∞–≤–∫–∏
        function selectDelivery(type) {
            deliveryType = type;
            deliveryCost = type === 'city' ? 100 : 0;
            
            document.getElementById('deliverySelf').classList.toggle('selected', type === 'self');
            document.getElementById('deliveryCity').classList.toggle('selected', type === 'city');
            
            document.getElementById('radioSelf').checked = type === 'self';
            document.getElementById('radioCity').checked = type === 'city';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–∫–∏–¥–∫–µ
            const deliveryNote = document.getElementById('deliveryNote');
            if (type === 'self') {
                deliveryNote.innerHTML = 'üéâ <strong>–ê–∫—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞!</strong> 2 –±–∞–Ω–∫–∏ = 600‚ÇΩ, 3 –±–∞–Ω–∫–∏ = 900‚ÇΩ –∏ —Ç.–¥.';
            } else {
                deliveryNote.innerHTML = '‚ö†Ô∏è <strong>–ê–∫—Ü–∏—è –Ω–µ –¥–µ–π—Å—Ç–≤—É–µ—Ç</strong> –ø—Ä–∏ –¥–æ—Å—Ç–∞–≤–∫–µ - –≤—Å–µ –±–∞–Ω–∫–∏ –ø–æ 400‚ÇΩ';
            }
            
            renderCart();
        }

        // –†–µ–Ω–¥–µ—Ä —Ç–æ–≤–∞—Ä–æ–≤ —Å –∫—Ä–∞—Å–∏–≤—ã–º–∏ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏
        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';

            Object.keys(products).forEach(productId => {
                const product = products[productId];
                const productCard = document.createElement('div');
                productCard.className = `product-card ${product.category}`;
                
                let promoBadge = '';
                let soldOutBadge = '';
                
                if (product.stock > 0) {
                    promoBadge = '<div class="promo-badge">üî• –ê–∫—Ü–∏—è</div>';
                } else {
                    soldOutBadge = '<div class="sold-out-badge">‚ùå –ü–†–û–î–ê–ù–û</div>';
                }
                
                productCard.innerHTML = `
                    ${promoBadge}
                    ${soldOutBadge}
                    <div class="brand-icon">${product.icon}</div>
                    <h3>${product.name}</h3>
                    <div class="flavor-description">${product.description}</div>
                    <div class="ingredients">–°–æ—Å—Ç–∞–≤: ${product.ingredients}</div>
                    <div class="price">${product.price} ‚ÇΩ</div>
                    <div class="${product.stock > 0 ? 'stock' : 'out-of-stock'}">
                        ${product.stock > 0 ? `‚úÖ –í –Ω–∞–ª–∏—á–∏–∏: ${product.stock} —à—Ç` : '‚ùå –ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏'}
                    </div>
                    <button onclick="addToCart('${productId}')" 
                            ${product.stock === 0 ? 'disabled' : ''}>
                        ${product.stock > 0 ? 'üõí –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É' : '–¢–æ–≤–∞—Ä –∑–∞–∫–æ–Ω—á–∏–ª—Å—è'}
                    </button>
                `;
                
                grid.appendChild(productCard);
            });
        }

        // –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É
        function addToCart(productId) {
            console.log('–î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–≤–∞—Ä:', productId, '–í –Ω–∞–ª–∏—á–∏–∏:', products[productId].stock);
            
            // –ü–†–û–í–ï–†–ö–ê 1: –ï—Å—Ç—å –ª–∏ —Ç–æ–≤–∞—Ä –≤ –Ω–∞–ª–∏—á–∏–∏?
            if (products[productId].stock === 0) {
                showNotification('‚ùå –≠—Ç–æ—Ç —Ç–æ–≤–∞—Ä –∑–∞–∫–æ–Ω—á–∏–ª—Å—è!', 'error');
                return;
            }

            // –ü–†–û–í–ï–†–ö–ê 2: –°–∫–æ–ª—å–∫–æ —É–∂–µ –≤ –∫–æ—Ä–∑–∏–Ω–µ?
            const currentInCart = cart[productId] || 0;
            console.log('–£–∂–µ –≤ –∫–æ—Ä–∑–∏–Ω–µ:', currentInCart);
            
            // –ü–†–û–í–ï–†–ö–ê 3: –ú–æ–∂–µ–º –ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –µ—â—ë –æ–¥–∏–Ω?
            if (currentInCart >= products[productId].stock) {
                showNotification(`‚ùå –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: ${products[productId].stock} —à—Ç.`, 'error');
                return;
            }

            // –ï–°–õ–ò –í–°–ï –ü–†–û–í–ï–†–ö–ò –ü–†–û–ô–î–ï–ù–´ - –¥–æ–±–∞–≤–ª—è–µ–º –≤ –∫–æ—Ä–∑–∏–Ω—É
            if (cart[productId]) {
                cart[productId]++;
            } else {
                cart[productId] = 1;
            }

            // –ù–ï –°–ü–ò–°–´–í–ê–ï–ú –° –ü–†–û–î–ê–ñ–ò! –¢–æ–ª—å–∫–æ –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞
            saveCart();
            renderCart();
            showNotification('‚úÖ –¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É! üõí', 'success');
            
            console.log('–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è - –∫–æ—Ä–∑–∏–Ω–∞:', cart);
            console.log('–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è - stock:', products[productId].stock);
        }

        // –†–∞–±–æ—Ç–∞ —Å –∫–æ—Ä–∑–∏–Ω–æ–π
        function loadCart() {
            const savedCart = localStorage.getItem('cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
            }
        }

        function saveCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        function removeFromCart(productId) {
            delete cart[productId];
            saveCart();
            renderCart();
            showNotification('–¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã', 'error');
        }

        function updateQuantity(productId, change) {
            if (cart[productId]) {
                const newQuantity = cart[productId] + change;
                
                // –ï–°–õ–ò –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞–ª–æ 0 –∏–ª–∏ –º–µ–Ω—å—à–µ - —É–¥–∞–ª—è–µ–º
                if (newQuantity <= 0) {
                    removeFromCart(productId);
                    return;
                }
                
                // –ï–°–õ–ò —Ö–æ—Ç–∏–º –±–æ–ª—å—à–µ —á–µ–º –µ—Å—Ç—å –≤ –Ω–∞–ª–∏—á–∏–∏ - –ë–õ–û–ö–ò–†–£–ï–ú
                if (newQuantity > products[productId].stock) {
                    showNotification(`‚ùå –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: ${products[productId].stock} —à—Ç.`, 'error');
                    return;
                }
                
                // –ï–°–õ–ò –≤—Å—ë –æ–∫ - –æ–±–Ω–æ–≤–ª—è–µ–º
                cart[productId] = newQuantity;
                saveCart();
                renderCart();
            }
        }

        function clearCart() {
            if (Object.keys(cart).length === 0) {
                showNotification('–ö–æ—Ä–∑–∏–Ω–∞ —É–∂–µ –ø—É—Å—Ç–∞!', 'error');
                return;
            }
            
            if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—é –∫–æ—Ä–∑–∏–Ω—É?')) {
                cart = {};
                saveCart();
                renderCart();
                showNotification('–ö–æ—Ä–∑–∏–Ω–∞ –æ—á–∏—â–µ–Ω–∞ üóëÔ∏è', 'error');
            }
        }

        // –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Å —É—á–µ—Ç–æ–º –∞–∫—Ü–∏–∏
        function calculateTotal() {
            let total = 0;
            let itemCount = 0;
            
            Object.keys(cart).forEach(productId => {
                const quantity = cart[productId];
                const price = products[productId].price;
                
                if (deliveryType === 'self') {
                    // –ê–∫—Ü–∏—è: 1=400, 2=600, 3=900, 4=1200, 5=1500 –∏ —Ç.–¥.
                    total += Math.floor(quantity / 5) * 1500 + calculatePromoPrice(quantity % 5);
                } else {
                    // –ë–µ–∑ –∞–∫—Ü–∏–∏ –ø—Ä–∏ –¥–æ—Å—Ç–∞–≤–∫–µ
                    total += quantity * price;
                }
                
                itemCount += quantity;
            });
            
            total += deliveryCost;
            return { total, itemCount };
        }

        function calculatePromoPrice(quantity) {
            const promoPrices = { 0: 0, 1: 400, 2: 600, 3: 900, 4: 1200 };
            return promoPrices[quantity] || (quantity * 400);
        }

        // –†–µ–Ω–¥–µ—Ä –∫–æ—Ä–∑–∏–Ω—ã
        function renderCart() {
            const cartItems = document.getElementById('cartItems');
            const totalAmount = document.getElementById('totalAmount');
            const promoSavings = document.getElementById('promoSavings');
            
            if (Object.keys(cart).length === 0) {
                cartItems.innerHTML = `
                    <div class="empty-state">
                        <i>üõí</i>
                        <h3>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</h3>
                        <p>–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞</p>
                    </div>
                `;
                totalAmount.textContent = '0';
                promoSavings.innerHTML = '';
                return;
            }
            
            cartItems.innerHTML = '';
            let regularPrice = 0;
            let promoPrice = 0;
            
            Object.keys(cart).forEach(productId => {
                const product = products[productId];
                const quantity = cart[productId];
                
                regularPrice += quantity * product.price;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-info">
                        <div class="cart-item-name">${product.name}</div>
                        <div class="cart-item-details">${product.description}</div>
                    </div>
                    <div class="cart-item-actions">
                        <button class="btn-decrease" onclick="updateQuantity('${productId}', -1)">-</button>
                        <span style="font-weight: bold; font-size: 1.2em; min-width: 30px; text-align: center;">${quantity}</span>
                        <button class="btn-increase" onclick="updateQuantity('${productId}', 1)">+</button>
                        <button class="btn-remove" onclick="removeFromCart('${productId}')">üóëÔ∏è</button>
                    </div>
                `;
                cartItems.appendChild(cartItem);
            });
            
            const { total, itemCount } = calculateTotal();
            totalAmount.textContent = total;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫–æ–Ω–æ–º–∏—é –ø–æ –∞–∫—Ü–∏–∏
            if (deliveryType === 'self' && itemCount >= 2) {
                const savings = regularPrice - total + deliveryCost;
                if (savings > 0) {
                    promoSavings.innerHTML = `üéâ –í—ã —ç–∫–æ–Ω–æ–º–∏—Ç–µ: ${savings} ‚ÇΩ`;
                } else {
                    promoSavings.innerHTML = '';
                }
            } else {
                promoSavings.innerHTML = '';
            }
        }

        // –†–µ–Ω–¥–µ—Ä –∑–∞–∫–∞–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function renderUserOrders() {
            const userOrdersList = document.getElementById('userOrdersList');
            
            if (orders.length === 0) {
                userOrdersList.innerHTML = `
                    <div class="empty-state">
                        <i>üì¶</i>
                        <h3>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤</h3>
                        <p>–°–¥–µ–ª–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –∑–∞–∫–∞–∑ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ!</p>
                    </div>
                `;
                return;
            }
            
            userOrdersList.innerHTML = '';
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –∑–∞–∫–∞–∑—ã –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)
            const sortedOrders = [...orders].reverse();
            
            sortedOrders.forEach(order => {
                const orderElement = document.createElement('div');
                orderElement.className = 'order-summary';
                orderElement.style.marginBottom = '20px';
                
                let statusClass = 'status-pending';
                let statusText = '‚è≥ –û–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è';
                
                if (order.status === 'confirmed') {
                    statusClass = 'status-confirmed';
                    statusText = '‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω';
                } else if (order.status === 'completed') {
                    statusClass = 'status-completed';
                    statusText = 'üöÄ –ó–∞–≤–µ—Ä—à–µ–Ω';
                }
                
                orderElement.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                        <div>
                            <h3>–ó–∞–∫–∞–∑ #${order.id}</h3>
                            <p><strong>–í—Ä–µ–º—è:</strong> ${order.timestamp}</p>
                            <p><strong>–î–æ—Å—Ç–∞–≤–∫–∞:</strong> ${order.deliveryType === 'self' ? '–°–∞–º–æ–≤—ã–≤–æ–∑' : '–î–æ—Å—Ç–∞–≤–∫–∞'}</p>
                        </div>
                        <div class="order-status-badge ${statusClass}">
                            ${statusText}
                        </div>
                    </div>
                    
                    <div style="margin: 15px 0;">
                        <strong>–°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞:</strong>
                        ${Object.keys(order.items).map(productId => {
                            return `<div style="margin: 5px 0;">‚Ä¢ ${products[productId].name} √ó ${order.items[productId]}</div>`;
                        }).join('')}
                    </div>
                    
                    <div style="border-top: 2px solid #4caf50; padding-top: 10px; font-size: 1.2em; font-weight: bold;">
                        –ò—Ç–æ–≥–æ: ${order.total} ‚ÇΩ
                    </div>
                    
                    <div style="background: #e8f5e9; padding: 15px; border-radius: 10px; margin-top: 15px;">
                        <strong>üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã:</strong><br>
                        –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –∑–∞–∫–∞–∑–∞ –ø–∏—à–∏—Ç–µ –≤ Telegram: <strong>@spank46</strong>
                    </div>
                `;
                
                userOrdersList.appendChild(orderElement);
            });
        }

        // –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
        function checkout() {
            if (Object.keys(cart).length === 0) {
                showNotification('–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É!', 'error');
                return;
            }
            
            showSection('checkout');
            renderOrderSummary();
        }

        function renderOrderSummary() {
            const orderSummary = document.getElementById('orderSummary');
            const { total, itemCount } = calculateTotal();
            
            let summaryHTML = `
                <h3>–î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞:</h3>
                <div style="margin: 20px 0;">
                    <strong>–¢–∏–ø –¥–æ—Å—Ç–∞–≤–∫–∏:</strong> ${deliveryType === 'self' ? '–°–∞–º–æ–≤—ã–≤–æ–∑' : '–î–æ—Å—Ç–∞–≤–∫–∞'} <br>
                    <strong>–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏:</strong> ${deliveryCost} ‚ÇΩ <br>
                    <strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤:</strong> ${itemCount} —à—Ç.
                </div>
                <h4>–°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞:</h4>
            `;
            
            Object.keys(cart).forEach(productId => {
                const product = products[productId];
                const quantity = cart[productId];
                summaryHTML += `
                    <div class="order-item">
                        <div>${product.name} √ó ${quantity}</div>
                        <div>${quantity * product.price} ‚ÇΩ</div>
                    </div>
                `;
            });
            
            summaryHTML += `
                <div style="border-top: 3px solid #4caf50; padding-top: 15px; margin-top: 15px; font-size: 1.3em; font-weight: bold;">
                    –ò—Ç–æ–≥–æ: ${total} ‚ÇΩ
                </div>
            `;
            
            orderSummary.innerHTML = summaryHTML;
        }

        function showPayment() {
            showSection('payment');
            document.getElementById('paymentAmount').textContent = calculateTotal().total;
            uploadedScreenshot = null;
            document.getElementById('uploadPreview').innerHTML = '';
            document.getElementById('confirmPaymentBtn').disabled = true;
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞
        function handleFileUpload(files) {
            if (files.length > 0) {
                const file = files[0];
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        uploadedScreenshot = e.target.result;
                        document.getElementById('uploadPreview').innerHTML = `
                            <div style="text-align: center; margin: 20px 0;">
                                <img src="${e.target.result}" style="max-width: 300px; border-radius: 15px; border: 3px solid #4caf50;">
                                <p style="color: #4caf50; font-weight: bold;">‚úÖ –°–∫—Ä–∏–Ω—à–æ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω</p>
                            </div>
                        `;
                        document.getElementById('confirmPaymentBtn').disabled = false;
                    };
                    reader.readAsDataURL(file);
                } else {
                    showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ!', 'error');
                }
            }
        }

        // –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –ñ–ò–ñ –ü–†–ò –û–¢–ú–ï–ù–ï –ó–ê–ö–ê–ó–ê
        function restoreProductStock(productId, quantity) {
            if (products[productId]) {
                products[productId].stock += quantity;
                saveProducts();
                renderProducts();
                console.log(`üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ ${quantity} —à—Ç. —Ç–æ–≤–∞—Ä–∞ ${productId}. –ù–æ–≤—ã–π stock: ${products[productId].stock}`);
            }
        }

        // –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã
        function confirmPayment() {
            if (!uploadedScreenshot) {
                showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç —á–µ–∫–∞!', 'error');
                return;
            }

            // –ü–†–û–í–ï–†–ö–ê: –ï—Å—Ç—å –ª–∏ —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ?
            if (Object.keys(cart).length === 0) {
                showNotification('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!', 'error');
                return;
            }

            const { total, itemCount } = calculateTotal();
            const orderId = 'ORD' + Date.now();
            
            // –°–û–ó–î–ê–ï–ú –ó–ê–ö–ê–ó
            const order = {
                id: orderId,
                items: { ...cart }, // –∫–æ–ø–∏—Ä—É–µ–º –∫–æ—Ä–∑–∏–Ω—É
                total: total,
                deliveryType: deliveryType,
                deliveryCost: deliveryCost,
                screenshot: uploadedScreenshot,
                timestamp: new Date().toLocaleString('ru-RU'),
                status: 'pending'
            };

            // –ü–†–û–í–ï–†–ö–ê: –•–≤–∞—Ç–∞–µ—Ç –ª–∏ —Ç–æ–≤–∞—Ä–æ–≤ –ø–µ—Ä–µ–¥ —Å–ø–∏—Å–∞–Ω–∏–µ–º?
            let canProceed = true;
            Object.keys(cart).forEach(productId => {
                if (cart[productId] > products[productId].stock) {
                    showNotification(`‚ùå –¢–æ–≤–∞—Ä "${products[productId].name}" –∑–∞–∫–æ–Ω—á–∏–ª—Å—è! –£–¥–∞–ª–∏—Ç–µ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã.`, 'error');
                    canProceed = false;
                }
            });

            if (!canProceed) {
                showNotification('‚ùå –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–æ–≤–∞—Ä—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å! –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ—Ä–∑–∏–Ω—É.', 'error');
                return;
            }

            // –ï–°–õ–ò –í–°–ï –ü–†–û–í–ï–†–ö–ò –ü–†–û–ô–î–ï–ù–´ - —Å–ø–∏—Å—ã–≤–∞–µ–º —Ç–æ–≤–∞—Ä—ã
            Object.keys(cart).forEach(productId => {
                products[productId].stock -= cart[productId];
                console.log(`üì¶ –°–ø–∏—Å–∞–Ω–æ ${cart[productId]} —à—Ç. ${productId}. –û—Å—Ç–∞–ª–æ—Å—å: ${products[productId].stock}`);
            });

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
            saveProducts();

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞–∫–∞–∑
            orders.push(order);
            localStorage.setItem('orders', JSON.stringify(orders));
            currentOrder = order;

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram
            sendOrderToTelegram(order);

            // –û—á–∏—â–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É
            cart = {};
            saveCart();

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Å–ø–µ—Ö
            showSection('orderStatus');
            renderFinalOrderSummary();
            showNotification('‚úÖ –ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω! –ñ–∏–∂–∏ —Å–Ω—è—Ç—ã —Å –ø—Ä–æ–¥–∞–∂–∏. üì¶', 'success');
        }

        function renderFinalOrderSummary() {
            const finalOrderSummary = document.getElementById('finalOrderSummary');
            finalOrderSummary.innerHTML = `
                <h3>–í–∞—à –∑–∞–∫–∞–∑ ‚Ññ${currentOrder.id}</h3>
                <p><strong>–°—Ç–∞—Ç—É—Å:</strong> –û–∂–∏–¥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–ø–ª–∞—Ç—ã</p>
                <p><strong>–í—Ä–µ–º—è –∑–∞–∫–∞–∑–∞:</strong> ${currentOrder.timestamp}</p>
                <p><strong>–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞:</strong> ${currentOrder.total} ‚ÇΩ</p>
                <p><strong>–¢–∏–ø –ø–æ–ª—É—á–µ–Ω–∏—è:</strong> ${currentOrder.deliveryType === 'self' ? '–°–∞–º–æ–≤—ã–≤–æ–∑' : '–î–æ—Å—Ç–∞–≤–∫–∞'}</p>
                
                <div style="background: #e8f5e9; padding: 15px; border-radius: 10px; margin-top: 15px;">
                    <strong>üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã:</strong><br>
                    –î–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –∑–∞–∫–∞–∑–∞ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –≤ Telegram: <strong>@spank46</strong>
                </div>
                
                <div style="background: #fff3cd; padding: 15px; border-radius: 10px; margin-top: 15px; border-left: 4px solid #ffc107;">
                    <strong>üîÑ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–ª–∞—Ç—ã:</strong><br>
                    –ú—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞—à —Å–∫—Ä–∏–Ω—à–æ—Ç –æ–ø–ª–∞—Ç—ã. –û–±—ã—á–Ω–æ —ç—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç 5-15 –º–∏–Ω—É—Ç.<br>
                    <strong>–ù–∞–ø–∏—à–∏—Ç–µ @spank46 –≤ Telegram</strong> –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏.
                </div>
            `;
        }

        // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram
        async function sendOrderToTelegram(order) {
            const message = `
üõí –ù–û–í–´–ô –ó–ê–ö–ê–ó #${order.id}

üí∞ –°—É–º–º–∞: ${order.total} ‚ÇΩ
üöö –î–æ—Å—Ç–∞–≤–∫–∞: ${order.deliveryType === 'self' ? '–°–∞–º–æ–≤—ã–≤–æ–∑' : '–î–æ—Å—Ç–∞–≤–∫–∞ (+100‚ÇΩ)'}
‚è∞ –í—Ä–µ–º—è: ${order.timestamp}

üì¶ –°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞:
${Object.keys(order.items).map(productId => {
    return `‚Ä¢ ${products[productId].name} √ó ${order.items[productId]}`
}).join('\n')}

üë§ –ö–æ–Ω—Ç–∞–∫—Ç—ã –∑–∞–∫–∞–∑—á–∏–∫–∞: –æ–∂–∏–¥–∞—é—Ç —É—Ç–æ—á–Ω–µ–Ω–∏—è
üì± Telegram –¥–ª—è —Å–≤—è–∑–∏: @spank46
            `.trim();

            try {
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –∑–∞–∫–∞–∑–∞
                await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: TELEGRAM_GROUP_ID,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });

                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–∫—Ä–∏–Ω—à–æ—Ç
                if (order.screenshot) {
                    await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendPhoto`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            chat_id: TELEGRAM_GROUP_ID,
                            photo: order.screenshot,
                            caption: `–°–∫—Ä–∏–Ω—à–æ—Ç —á–µ–∫–∞ –¥–ª—è –∑–∞–∫–∞–∑–∞ #${order.id}`
                        })
                    });
                }

                // –î—É–±–ª–∏—Ä—É–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –¥—Ä—É–≥—É
                await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: FRIEND_CHAT_ID,
                        text: `–ù–æ–≤—ã–π –∑–∞–∫–∞–∑! ${order.total}‚ÇΩ - #${order.id}`,
                        parse_mode: 'HTML'
                    })
                });

            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram:', error);
            }
        }

        // –ê–¥–º–∏–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        function renderAdminStats() {
            if (!isAdminLoggedIn) return;

            const totalOrders = orders.length;
            const totalRevenue = orders.reduce((sum, order) => sum + order.total, 0);
            const completedOrders = orders.filter(order => order.status === 'completed').length;

            document.getElementById('totalOrders').textContent = totalOrders;
            document.getElementById('totalRevenue').textContent = totalRevenue + ' ‚ÇΩ';
            document.getElementById('completedOrders').textContent = completedOrders;

            // –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤
            const ordersList = document.getElementById('ordersList');
            ordersList.innerHTML = '<h3>–í—Å–µ –∑–∞–∫–∞–∑—ã:</h3>';

            if (orders.length === 0) {
                ordersList.innerHTML += '<p style="text-align: center; padding: 20px;">–ó–∞–∫–∞–∑–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</p>';
                return;
            }

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –í–°–ï –∑–∞–∫–∞–∑—ã
            orders.reverse().forEach(order => {
                const orderElement = document.createElement('div');
                orderElement.style.background = '#455a64';
                orderElement.style.padding = '20px';
                orderElement.style.borderRadius = '15px';
                orderElement.style.margin = '15px 0';
                orderElement.style.border = `3px solid ${
                    order.status === 'completed' ? '#4caf50' : 
                    order.status === 'confirmed' ? '#2196f3' : '#ff9800'
                }`;

                // –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞
                let orderDetails = '';
                Object.keys(order.items).forEach(productId => {
                    const productName = products[productId] ? products[productId].name : productId;
                    orderDetails += `<div style="margin: 3px 0;">‚Ä¢ ${productName} √ó ${order.items[productId]}</div>`;
                });

                orderElement.innerHTML = `
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <div>
                                <strong style="font-size: 1.2em;">#${order.id}</strong> - ${order.total} ‚ÇΩ
                            </div>
                            <span style="color: ${
                                order.status === 'completed' ? '#4caf50' : 
                                order.status === 'confirmed' ? '#2196f3' : '#ff9800'
                            }; font-weight: bold;">
                                ${order.status === 'completed' ? '‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω' : 
                                  order.status === 'confirmed' ? '‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω' : '‚è≥ –û–∂–∏–¥–∞–µ—Ç'}
                            </span>
                        </div>
                        <div style="color: #ccc; font-size: 0.9em;">
                            <div>üìÖ ${order.timestamp}</div>
                            <div>üöö ${order.deliveryType === 'self' ? '–°–∞–º–æ–≤—ã–≤–æ–∑' : '–î–æ—Å—Ç–∞–≤–∫–∞ (+100‚ÇΩ)'}</div>
                        </div>
                    </div>
                    
                    <div style="background: #37474f; padding: 15px; border-radius: 10px; margin: 10px 0;">
                        <strong style="color: #fff;">–°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞:</strong>
                        ${orderDetails}
                    </div>
                    
                    <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                        <button onclick="changeOrderStatus('${order.id}', 'confirmed')" 
                                style="padding: 10px 15px; background: #2196f3; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; flex: 1;">
                            ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
                        </button>
                        <button onclick="changeOrderStatus('${order.id}', 'completed')" 
                                style="padding: 10px 15px; background: #4caf50; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; flex: 1;">
                            üöÄ –ó–∞–≤–µ—Ä—à–∏—Ç—å
                        </button>
                        <button onclick="cancelOrderAndRestoreStock('${order.id}')" 
                                style="padding: 10px 15px; background: #f44336; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; flex: 1;">
                            ‚ùå –û—Ç–º–µ–Ω–∏—Ç—å
                        </button>
                    </div>
                `;

                ordersList.appendChild(orderElement);
            });
        }

        function changeOrderStatus(orderId, status) {
            const order = orders.find(o => o.id === orderId);
            if (order) {
                order.status = status;
                localStorage.setItem('orders', JSON.stringify(orders));
                renderAdminStats();
                renderUserOrders();
                showNotification(`–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ #${orderId} –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ "${status}"!`, 'success');
            }
        }

        // –§–£–ù–ö–¶–ò–Ø –û–¢–ú–ï–ù–´ –ó–ê–ö–ê–ó–ê –î–õ–Ø –ê–î–ú–ò–ù–ê –° –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï–ú –¢–û–í–ê–†–û–í
        function cancelOrderAndRestoreStock(orderId) {
            if (confirm(`–û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑ #${orderId} –∏ –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–≤–∞—Ä—ã –Ω–∞ —Å–∫–ª–∞–¥?`)) {
                const order = orders.find(o => o.id === orderId);
                if (order) {
                    // –í–û–ó–í–†–ê–©–ê–ï–ú –¢–û–í–ê–†–´ –ù–ê –°–ö–õ–ê–î
                    Object.keys(order.items).forEach(productId => {
                        if (products[productId]) {
                            products[productId].stock += order.items[productId];
                            console.log(`üîÑ –í–æ–∑–≤—Ä–∞—â–µ–Ω–æ ${order.items[productId]} —à—Ç. ${productId}`);
                        }
                    });
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
                    saveProducts();
                    
                    // –£–¥–∞–ª—è–µ–º –∑–∞–∫–∞–∑
                    orders = orders.filter(o => o.id !== orderId);
                    localStorage.setItem('orders', JSON.stringify(orders));
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                    renderProducts();
                    renderAdminStats();
                    renderUserOrders();
                    
                    showNotification(`‚úÖ –ó–∞–∫–∞–∑ #${orderId} –æ—Ç–º–µ–Ω–µ–Ω. –¢–æ–≤–∞—Ä—ã –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –Ω–∞ —Å–∫–ª–∞–¥.`, 'success');
                }
            }
        }

        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 4000);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
