<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ñ–ò–ñ–ê –ú–ê–†–ö–ï–¢ | –ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–µ –∂–∏–¥–∫–æ—Å—Ç–∏</title>
    <style>
        /* –í—Å–µ —Å—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #ff6b6b 0%, #ffa726 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 25px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            overflow: hidden;
            border: 3px solid #ffa726;
        }

        .header {
            background: linear-gradient(135deg, #ff4081, #ff6b6b);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
        }

        .logo {
            font-size: 3.5em;
            margin-bottom: 10px;
            font-weight: bold;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
        }

        .tagline {
            font-size: 1.4em;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .subtagline {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .promo-banner {
            background: linear-gradient(135deg, #4caf50, #8bc34a);
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            font-size: 1.3em;
            border-bottom: 3px solid #ffeb3b;
        }

        .nav {
            display: flex;
            background: #37474f;
            padding: 0;
        }

        .nav button {
            flex: 1;
            padding: 18px;
            border: none;
            background: #37474f;
            color: white;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s;
            border-right: 2px solid #455a64;
        }

        .nav button:last-child {
            border-right: none;
        }

        .nav button:hover {
            background: #ff6b6b;
        }

        .nav button.active {
            background: #ff4081;
            font-weight: bold;
        }

        .content {
            padding: 25px;
            min-height: 500px;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .product-card {
            border: 3px solid #e0e0e0;
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            transition: all 0.4s;
            position: relative;
            min-height: 320px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .product-card.delta {
            background: linear-gradient(135deg, #e8f5e8, #c8e6c9);
            border-color: #4caf50;
        }

        .product-card.morozny {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-color: #2196f3;
        }

        .product-card.husky {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            border-color: #ff9800;
        }

        .product-card.malasian {
            background: linear-gradient(135deg, #f3e5f5, #e1bee7);
            border-color: #9c27b0;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }

        .brand-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .product-card h3 {
            margin-bottom: 12px;
            font-size: 1.2em;
            font-weight: bold;
            color: #d32f2f;
        }

        .flavor-description {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 10px;
            font-style: italic;
            line-height: 1.4;
        }

        .ingredients {
            color: #888;
            font-size: 0.8em;
            margin-bottom: 10px;
        }

        .product-card .price {
            font-size: 1.6em;
            font-weight: bold;
            margin: 12px 0;
            color: #e91e63;
        }

        .product-card .stock {
            font-weight: bold;
            margin: 12px 0;
            font-size: 1em;
        }

        .product-card .out-of-stock {
            color: #f44336;
            font-weight: bold;
        }

        .promo-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #ff6b6b, #ff4081);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            border: 2px solid white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .sold-out-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background: linear-gradient(135deg, #f44336, #d32f2f);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            border: 2px solid white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 2;
        }

        .product-card button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s;
            margin-top: 12px;
        }

        .product-card button:hover {
            background: linear-gradient(135deg, #43a047, #4caf50);
            transform: scale(1.05);
        }

        .product-card button:disabled {
            background: #bdbdbd;
            color: #757575;
            cursor: not-allowed;
            transform: none;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 2px solid #e0e0e0;
            background: #f8f9fa;
            margin-bottom: 15px;
            border-radius: 15px;
            transition: background 0.3s;
        }

        .cart-item:hover {
            background: #e9ecef;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: bold;
            color: #2d3436;
            font-size: 1.2em;
        }

        .cart-item-details {
            color: #636e72;
            font-size: 1em;
            margin-top: 5px;
        }

        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .cart-item-actions button {
            padding: 10px 15px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }

        .btn-remove {
            background: #f44336;
            color: white;
        }

        .btn-remove:hover {
            background: #d32f2f;
            transform: scale(1.1);
        }

        .btn-increase, .btn-decrease {
            background: #2196f3;
            color: white;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .btn-increase:hover, .btn-decrease:hover {
            background: #1976d2;
            transform: scale(1.1);
        }

        .cart-total {
            background: linear-gradient(135deg, #fff9c4, #fff59d);
            padding: 25px;
            border-radius: 20px;
            margin-top: 25px;
            text-align: center;
            border: 3px solid #ffeb3b;
        }

        .cart-total h3 {
            color: #2d3436;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .cart-actions {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .cart-actions button {
            flex: 1;
            padding: 20px;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn-checkout {
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
        }

        .btn-checkout:hover {
            background: linear-gradient(135deg, #43a047, #4caf50);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.3);
        }

        .btn-clear {
            background: linear-gradient(135deg, #f44336, #ef5350);
            color: white;
        }

        .btn-clear:hover {
            background: linear-gradient(135deg, #e53935, #f44336);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(244, 67, 54, 0.3);
        }

        .delivery-options {
            margin: 25px 0;
        }

        .delivery-option {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s;
        }

        .delivery-option:hover {
            background: #bbdefb;
            transform: translateX(10px);
        }

        .delivery-option.selected {
            border-color: #4caf50;
            background: #c8e6c9;
            transform: translateX(0);
        }

        .delivery-option input {
            margin-right: 15px;
            transform: scale(1.3);
        }

        .delivery-note {
            color: #e91e63;
            font-weight: bold;
            margin: 15px 0;
            text-align: center;
            font-size: 1.1em;
            padding: 15px;
            background: #fce4ec;
            border-radius: 10px;
            border-left: 5px solid #e91e63;
        }

        .order-summary {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            border: 3px solid #e9ecef;
        }

        .order-item {
            display: flex;
            justify-content: space-between;
            margin: 15px 0;
            padding: 18px;
            background: white;
            border-radius: 12px;
            transition: background 0.3s;
            border: 2px solid #e0e0e0;
        }

        .order-item:hover {
            background: #f1f2f6;
        }

        .payment-info {
            background: #e8f5e9;
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            text-align: center;
            border: 3px solid #c8e6c9;
        }

        .confirmation-code {
            background: #fff3e0;
            padding: 30px;
            border-radius: 20px;
            margin: 25px 0;
            text-align: center;
            border: 3px solid #ff9800;
        }

        .code-input {
            font-size: 2em;
            font-weight: bold;
            text-align: center;
            padding: 15px;
            border: 3px solid #4caf50;
            border-radius: 15px;
            margin: 20px 0;
            width: 300px;
            letter-spacing: 5px;
        }

        .bank-card {
            background: linear-gradient(135deg, #7b1fa2, #4a148c);
            color: white;
            padding: 25px;
            border-radius: 20px;
            margin: 20px 0;
            text-align: center;
            border: 3px solid #ffd600;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .bank-card h3 {
            color: #ffd600;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .card-number {
            font-size: 1.8em;
            font-weight: bold;
            letter-spacing: 3px;
            margin: 15px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .bank-info {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            font-size: 1.1em;
        }

        .notification {
            position: fixed;
            top: 30px;
            right: 30px;
            padding: 20px 30px;
            background: #4caf50;
            color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.4s;
            font-weight: bold;
            font-size: 1.1em;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: #f44336;
        }

        .empty-state {
            text-align: center;
            padding: 60px;
            color: #636e72;
        }

        .empty-state i {
            font-size: 5em;
            margin-bottom: 25px;
            color: #bdbdbd;
        }

        .important-note {
            background: linear-gradient(135deg, #fff3e0, #ffecb3);
            border: 3px solid #ff9800;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
            font-weight: bold;
            color: #e65100;
        }

        .order-status-badge {
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            margin: 10px 0;
            text-align: center;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
            border: 2px solid #ffeaa7;
        }

        .status-confirmed {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .status-completed {
            background: #d1ecf1;
            color: #0c5460;
            border: 2px solid #bee5eb;
        }

        .telegram-contact {
            background: linear-gradient(135deg, #0088cc, #00aced);
            color: white;
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            text-align: center;
            border: 3px solid #fff;
        }

        .tg-username {
            font-size: 1.8em;
            font-weight: bold;
            margin: 15px 0;
            color: #fff;
        }

        .token-setup {
            background: linear-gradient(135deg, #ff6b6b, #ffa726);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin: 20px 0;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">üí® –ñ–ò–ñ–ê –ú–ê–†–ö–ï–¢</div>
            <div class="tagline">–ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–µ –∂–∏–¥–∫–æ—Å—Ç–∏ –¥–ª—è –≤–µ–π–ø–∞</div>
            <div class="subtagline">–¢–æ–ª—å–∫–æ –æ—Ä–∏–≥–∏–Ω–∞–ª ‚Ä¢ –ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ ‚Ä¢ –õ—É—á—à–∏–µ –≤–∫—É—Å—ã</div>
        </div>

        <div class="promo-banner">
            üéâ –í–´–ì–û–î–ù–ê–Ø –ê–ö–¶–ò–Ø: 1=400‚ÇΩ ‚Ä¢ 2=600‚ÇΩ ‚Ä¢ 3=900‚ÇΩ ‚Ä¢ 4=1200‚ÇΩ ‚Ä¢ 5=1500‚ÇΩ
        </div>

        <!-- –ù–ê–°–¢–†–û–ô–ö–ê –¢–û–ö–ï–ù–ê -->
        <div id="tokenSetup" class="token-setup" style="display: none;">
            <h2>üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–ø–∏—Å–∞–Ω–∏—è</h2>
            <p>–î–ª—è —Ä–∞–±–æ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–ø–∏—Å–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ GitHub</p>
            <div style="background: white; color: #333; padding: 20px; border-radius: 15px; margin: 20px 0; text-align: left;">
                <h3>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</h3>
                <ol>
                    <li>–ó–∞–π–¥–∏—Ç–µ –≤ <strong>GitHub Settings ‚Üí Developer settings ‚Üí Personal access tokens</strong></li>
                    <li>–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω —Å –ø—Ä–∞–≤–∞–º–∏ <strong>repo</strong></li>
                    <li>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –Ω–∏–∂–µ</li>
                </ol>
                <input type="password" id="githubTokenInput" placeholder="–í–≤–µ–¥–∏—Ç–µ GitHub —Ç–æ–∫–µ–Ω" 
                       style="width: 100%; padding: 15px; margin: 15px 0; border: 2px solid #4caf50; border-radius: 10px; font-size: 16px;">
                <button onclick="saveGitHubToken()" 
                        style="width: 100%; padding: 15px; background: #4caf50; color: white; border: none; border-radius: 10px; font-size: 18px; cursor: pointer;">
                    ‚úÖ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω
                </button>
            </div>
        </div>

        <div class="nav">
            <button onclick="showSection('catalog')" class="active">üõçÔ∏è –ö–∞—Ç–∞–ª–æ–≥</button>
            <button onclick="showSection('cart')">üõí –ö–æ—Ä–∑–∏–Ω–∞</button>
            <button onclick="showSection('myOrders')">üì¶ –ú–æ–∏ –∑–∞–∫–∞–∑—ã</button>
            <button onclick="showAdminSection()">‚öôÔ∏è –ê–¥–º–∏–Ω</button>
        </div>

        <div class="content">
            <!-- –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ -->
            <div id="catalog" class="section active">
                <h2 style="text-align: center; color: #d32f2f; margin-bottom: 10px;">üéØ –í—ã–±–µ—Ä–∏ —Å–≤–æ—é –∂–∏–∂—É</h2>
                <p style="text-align: center; color: #666; margin-bottom: 25px; font-size: 1.1em;">
                    –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –≤–∫—É—Å—ã ‚Ä¢ –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –±—Ä–µ–Ω–¥—ã
                </p>
                <div class="products-grid" id="productsGrid">
                    <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                </div>
            </div>

            <!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
            <div id="cart" class="section">
                <h2 style="text-align: center; color: #d32f2f;">üõí –¢–≤–æ–π –∑–∞–∫–∞–∑</h2>
                <div id="cartItems">
                    <!-- –¢–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ -->
                </div>
                <div class="cart-total">
                    <h3>–ò—Ç–æ–≥–æ: <span id="totalAmount">0</span> ‚ÇΩ</h3>
                    <div id="promoSavings" style="color: #2e7d32; font-weight: bold; margin: 15px 0; font-size: 1.2em;"></div>
                    
                    <!-- –í–´–ë–û–† –î–û–°–¢–ê–í–ö–ò -->
                    <div class="delivery-options">
                        <div class="delivery-option" onclick="selectDelivery('self')" id="deliverySelf">
                            <input type="radio" name="delivery" id="radioSelf"> 
                            <label for="radioSelf"><strong>‚úÖ –°–∞–º–æ–≤—ã–≤–æ–∑ - –ë–ï–°–ü–õ–ê–¢–ù–û</strong><br>
                            <small>–ê–∫—Ü–∏—è: 2 –±–∞–Ω–∫–∏ = 600‚ÇΩ, 3 –±–∞–Ω–∫–∏ = 900‚ÇΩ –∏ —Ç.–¥.</small></label>
                        </div>
                        <div class="delivery-option" onclick="selectDelivery('city')" id="deliveryCity">
                            <input type="radio" name="delivery" id="radioCity">
                            <label for="radioCity"><strong>üöö –î–æ—Å—Ç–∞–≤–∫–∞: +100 ‚ÇΩ</strong><br>
                            <small>–ë–µ–∑ –∞–∫—Ü–∏–∏ - –≤—Å–µ –±–∞–Ω–∫–∏ –ø–æ 400‚ÇΩ</small></label>
                        </div>
                    </div>
                    
                    <div id="deliveryNote" class="delivery-note"></div>
                    
                    <div class="cart-actions">
                        <button class="btn-clear" onclick="clearCart()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É</button>
                        <button class="btn-checkout" onclick="reserveOrder()">‚úÖ –í–ó–Ø–¢–¨ –ñ–ò–ñ–£</button>
                    </div>
                </div>
            </div>

            <!-- –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ -->
            <div id="reserve" class="section">
                <h2 style="text-align: center; color: #d32f2f;">üìû –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h2>
                
                <div class="telegram-contact">
                    <h3>üí¨ –û–ø–ª–∞—Ç–∞ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:</h3>
                    
                    <div class="bank-card">
                        <h3>üí≥ –ë–ê–ù–ö–û–í–°–ö–ê–Ø –ö–ê–†–¢–ê –í–¢–ë</h3>
                        <div class="card-number">2200 2402 4830 5209</div>
                        <div class="bank-info">
                            <div><strong>–ë–∞–Ω–∫:</strong> –í–¢–ë</div>
                            <div><strong>–ü–æ–ª—É—á–∞—Ç–µ–ª—å:</strong> –î–∞–Ω–∏–ª –û.</div>
                        </div>
                    </div>
                    
                    <div style="background: white; padding: 20px; border-radius: 15px; margin: 20px 0; text-align: left;">
                        <strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong>
                        <ol style="margin: 10px 0; padding-left: 20px;">
                            <li>–û–ø–ª–∞—Ç–∏—Ç–µ <strong id="reserveTotal">0</strong> ‚ÇΩ –Ω–∞ –∫–∞—Ä—Ç—É –í–¢–ë</li>
                            <li>–ù–∞–ø–∏—à–∏—Ç–µ –≤ Telegram <strong>@spank46</strong></li>
                            <li>–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –æ–ø–ª–∞—Ç—ã</li>
                            <li>–ü–æ–ª—É—á–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</li>
                            <li>–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –Ω–∏–∂–µ</li>
                        </ol>
                    </div>
                    
                    <div class="tg-username">@spank46</div>
                    <p>–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–¥–∞</p>
                </div>

                <div class="order-summary" id="reserveSummary">
                    <!-- –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞ –¥–ª—è —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è -->
                </div>

                <div class="confirmation-code">
                    <h3>üîë –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:</h3>
                    <input type="text" class="code-input" id="confirmationCode" placeholder="XXXX" maxlength="4" 
                           oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0,4)">
                    <div style="margin: 20px 0;">
                        <button class="btn-checkout" onclick="confirmWithCode()" 
                                style="padding: 15px 30px; font-size: 1.2em;">
                            ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∫–æ–¥
                        </button>
                    </div>
                    <p style="color: #666; font-size: 0.9em;">
                        –ö–æ–¥ –∏–∑ 4 —Ü–∏—Ñ—Ä –ø—Ä–∏–¥–µ—Ç –≤–∞–º –≤ Telegram –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
                    </p>
                </div>

                <div class="cart-actions">
                    <button class="btn-clear" onclick="showSection('cart')">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–æ—Ä–∑–∏–Ω–µ</button>
                </div>
            </div>

            <!-- –ú–æ–∏ –∑–∞–∫–∞–∑—ã -->
            <div id="myOrders" class="section">
                <h2 style="text-align: center; color: #d32f2f;">üì¶ –ú–æ–∏ –∑–∞–∫–∞–∑—ã</h2>
                <div id="userOrdersList">
                    <!-- –ó–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                </div>
            </div>

            <!-- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å -->
            <div id="admin" class="section">
                <div id="adminLogin" style="background: #37474f; padding: 30px; border-radius: 20px; text-align: center; color: white;">
                    <h2>üîê –í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
                    <input type="password" id="adminPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" 
                           style="padding: 15px; width: 250px; margin: 20px; border-radius: 10px; border: 3px solid #455a64; font-size: 16px;">
                    <br>
                    <button class="btn-checkout" onclick="loginToAdmin()" 
                            style="padding: 15px 40px; font-size: 18px;">–í–æ–π—Ç–∏</button>
                </div>
                <div style="background: #37474f; color: white; padding: 25px; border-radius: 20px; margin-top: 20px; display: none;" id="adminPanel">
                    <h2 style="text-align: center;">‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 25px 0;">
                        <div style="background: #455a64; padding: 25px; border-radius: 15px; text-align: center;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #ff6b6b;" id="totalOrders">0</div>
                            <div>–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤</div>
                        </div>
                        <div style="background: #455a64; padding: 25px; border-radius: 15px; text-align: center;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #4caf50;" id="totalRevenue">0</div>
                            <div>–í—ã—Ä—É—á–∫–∞</div>
                        </div>
                        <div style="background: #455a64; padding: 25px; border-radius: 15px; text-align: center;">
                            <div style="font-size: 2.5em; font-weight: bold; color: #2196f3;" id="completedOrders">0</div>
                            <div>–ó–∞–≤–µ—Ä—à–µ–Ω–æ</div>
                        </div>
                    </div>

                    <!-- –ö–ù–û–ü–ö–ê –°–ë–†–û–°–ê –¢–û–í–ê–†–û–í -->
                    <div style="background: #455a64; padding: 20px; border-radius: 15px; margin: 20px 0; text-align: center;">
                        <h3>üîÑ –°–±—Ä–æ—Å –º–∞–≥–∞–∑–∏–Ω–∞</h3>
                        <button class="btn-checkout" onclick="resetAllProducts()" 
                                style="padding: 15px 30px; font-size: 16px; margin: 10px;">
                            üîÑ –í–µ—Ä–Ω—É—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –≤ –ø—Ä–æ–¥–∞–∂—É
                        </button>
                        <p style="color: #ccc; font-size: 0.9em; margin-top: 10px;">
                            –í–µ—Ä–Ω–µ—Ç –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –≤ –Ω–∞–ª–∏—á–∏–µ –∏ –æ—á–∏—Å—Ç–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –∑–∞–∫–∞–∑–æ–≤
                        </p>
                    </div>

                    <div id="ordersList">
                        <!-- –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="notification" id="notification"></div>

    <script>
        // === –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ===
        const TELEGRAM_BOT_TOKEN = '8368198224:AAFal9lXTHHIRD4rn-d0FqeVBKpVQrng88M';
        const TELEGRAM_GROUP_ID = '-1003277435312';
        const ADMIN_PASSWORD = 'admin123';
        const DATA_FILE_URL = 'https://raw.githubusercontent.com/timavoroncov2-art/vape-shop/main/products.json';

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let GITHUB_TOKEN = null;
        let products = {};
        let cart = {};
        let orders = [];
        let currentOrder = null;
        let isAdminLoggedIn = false;
        let deliveryType = 'self';
        let deliveryCost = 0;
        let confirmationCodes = JSON.parse(localStorage.getItem('confirmationCodes')) || {};

        // === –ë–ï–ó–û–ü–ê–°–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –¢–û–ö–ï–ù–û–í ===
        function setupGitHubToken() {
            GITHUB_TOKEN = localStorage.getItem('github_token');
            
            if (!GITHUB_TOKEN) {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Ç–æ–∫–µ–Ω–∞
                document.getElementById('tokenSetup').style.display = 'block';
                document.querySelector('.nav').style.display = 'none';
                document.querySelector('.content').style.display = 'none';
            } else {
                // –¢–æ–∫–µ–Ω –µ—Å—Ç—å, –∑–∞–ø—É—Å–∫–∞–µ–º –º–∞–≥–∞–∑–∏–Ω
                document.getElementById('tokenSetup').style.display = 'none';
                document.querySelector('.nav').style.display = 'flex';
                document.querySelector('.content').style.display = 'block';
                init();
            }
        }

        function saveGitHubToken() {
            const tokenInput = document.getElementById('githubTokenInput');
            const token = tokenInput.value.trim();
            
            if (!token) {
                showNotification('‚ùå –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω!', 'error');
                return;
            }
            
            if (!token.startsWith('ghp_')) {
                showNotification('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–æ–∫–µ–Ω–∞!', 'error');
                return;
            }
            
            localStorage.setItem('github_token', token);
            GITHUB_TOKEN = token;
            showNotification('‚úÖ –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω! –ó–∞–ø—É—Å–∫–∞–µ–º –º–∞–≥–∞–∑–∏–Ω...', 'success');
            
            setTimeout(() => {
                document.getElementById('tokenSetup').style.display = 'none';
                document.querySelector('.nav').style.display = 'flex';
                document.querySelector('.content').style.display = 'block';
                init();
            }, 2000);
        }

        // === –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï –û–°–¢–ê–¢–ö–û–í –ù–ê GITHUB ===
        async function updateStockOnGitHub(productId, newStock) {
            if (!GITHUB_TOKEN) {
                showNotification('‚ùå –¢–æ–∫–µ–Ω –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!', 'error');
                return false;
            }

            try {
                // 1. –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–π —Ñ–∞–π–ª –∏ –µ–≥–æ SHA
                const getResponse = await fetch(`https://api.github.com/repos/timavoroncov2-art/vape-shop/contents/products.json`, {
                    headers: {
                        'Authorization': `token ${GITHUB_TOKEN}`,
                        'Accept': 'application/vnd.github.v3+json'
                    }
                });
                
                if (!getResponse.ok) {
                    throw new Error('–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ GitHub');
                }
                
                const fileData = await getResponse.json();
                const fileSha = fileData.sha;
                const currentContent = JSON.parse(atob(fileData.content));
                
                // 2. –û–±–Ω–æ–≤–ª—è–µ–º –æ—Å—Ç–∞—Ç–æ–∫
                currentContent.products[productId].stock = newStock;
                currentContent.lastUpdated = new Date().toISOString();
                
                // 3. –ö–æ–¥–∏—Ä—É–µ–º –æ–±—Ä–∞—Ç–Ω–æ –≤ base64
                const updatedContent = btoa(JSON.stringify(currentContent, null, 2));
                
                // 4. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ GitHub
                const updateResponse = await fetch(`https://api.github.com/repos/timavoroncov2-art/vape-shop/contents/products.json`, {
                    method: 'PUT',
                    headers: {
                        'Authorization': `token ${GITHUB_TOKEN}`,
                        'Accept': 'application/vnd.github.v3+json',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        message: `–ê–≤—Ç–æ—Å–ø–∏—Å–∞–Ω–∏–µ: ${products[productId].name} ‚Üí ${newStock} —à—Ç`,
                        content: updatedContent,
                        sha: fileSha
                    })
                });
                
                if (updateResponse.ok) {
                    console.log('‚úÖ –û—Å—Ç–∞—Ç–æ–∫ –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞ GitHub');
                    return true;
                } else {
                    const error = await updateResponse.json();
                    console.error('‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:', error);
                    
                    if (error.message?.includes('bad credentials')) {
                        showNotification('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω! –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∑–∞–Ω–æ–≤–æ.', 'error');
                        localStorage.removeItem('github_token');
                        setupGitHubToken();
                    }
                    return false;
                }
                
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞:', error);
                showNotification('‚ùå –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å GitHub', 'error');
                return false;
            }
        }

        // === –û–°–¢–ê–õ–¨–ù–û–ô –ö–û–î –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô ===
        // ... (–≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–æ–¥–∞ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
        // loadProductData, confirmWithCode, resetAllProducts, init, –∏ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ...

        // –ë–ê–ó–û–í–´–ï –î–ê–ù–ù–´–ï –¢–û–í–ê–†–û–í
        const baseProducts = {
            "delta_chicken": { 
                name: "D.L.T.A. - –ì—Ä—É–¥–∫–∞ –∏ –∫–æ—Ä–∏—Ü–∞", 
                price: 400, 
                stock: 1, 
                category: "delta",
                icon: "üçó",
                description: "–°–º–µ–ª—ã–π –≤–∫—É—Å –∫–æ–ø—á–µ–Ω–æ–π –∫—É—Ä–∏–Ω–æ–π –≥—Ä—É–¥–∫–∏ —Å —Ç–µ–ø–ª—ã–º–∏ –Ω–æ—Ç–∞–º–∏ –∫–æ—Ä–∏—Ü—ã",
                ingredients: "–¢–∞–±–∞–∫, –∫–æ—Ä–∏—Ü–∞, –∫–æ–ø—á–µ–Ω–æ—Å—Ç–∏"
            },
            "delta_pear": { 
                name: "D.L.T.A. - –ì—Ä—É—à–∞ –∏ –∫–æ—Ä–∏—Ü–∞", 
                price: 400, 
                stock: 1, 
                category: "delta",
                icon: "üçê",
                description: "–°–æ—á–Ω–∞—è —Å–ø–µ–ª–∞—è –≥—Ä—É—à–∞ –≤ –æ–±—ä—è—Ç–∏—è—Ö –∞—Ä–æ–º–∞—Ç–Ω–æ–π –∫–æ—Ä–∏—Ü—ã",
                ingredients: "–ì—Ä—É—à–∞, –∫–æ—Ä–∏—Ü–∞, –≤–∞–Ω–∏–ª—å"
            },
            "delta_irga1": { 
                name: "D.L.T.A. - –°–æ –≤–∫—É—Å–æ–º –∏—Ä–≥–∏", 
                price: 400, 
                stock: 1, 
                category: "delta",
                icon: "üçá",
                description: "–ù–µ–∂–Ω–∞—è –∏—Ä–≥–∞ —Å –ª–µ–≥–∫–æ–π –∫–∏—Å–ª–∏–Ω–∫–æ–π –∏ —è–≥–æ–¥–Ω—ã–º –ø–æ—Å–ª–µ–≤–∫—É—Å–∏–µ–º",
                ingredients: "–ò—Ä–≥–∞, –ª–µ—Å–Ω—ã–µ —è–≥–æ–¥—ã, –º—è—Ç–∞"
            },
            "delta_irga2": { 
                name: "D.L.T.A. - –°–æ –≤–∫—É—Å–æ–º –∏—Ä–≥–∏", 
                price: 400, 
                stock: 1, 
                category: "delta",
                icon: "üçá",
                description: "–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –≤–∫—É—Å –¥–∏–∫–æ–π –∏—Ä–≥–∏ —Å –º–µ–¥–æ–≤—ã–º–∏ –Ω–æ—Ç–∫–∞–º–∏",
                ingredients: "–ò—Ä–≥–∞, –º–µ–¥, –¥–∏–∫–∏–µ —è–≥–æ–¥—ã"
            },
            "morozny_currant": { 
                name: "–ú–û–†–û–ó–ù–´–ô –î–ñ–û - –°–º–æ—Ä–æ–¥–∏–Ω–∞ —Ö–≤–æ—è –∏ –º—è—Ç–∞", 
                price: 400, 
                stock: 1, 
                category: "morozny",
                icon: "‚ùÑÔ∏è",
                description: "–û—Å–≤–µ–∂–∞—é—â–∏–π –º–∏–∫—Å —á–µ—Ä–Ω–æ–π —Å–º–æ—Ä–æ–¥–∏–Ω—ã, —Ö–≤–æ–π–Ω–æ–≥–æ –ª–µ—Å–∞ –∏ –º—è—Ç–∞",
                ingredients: "–°–º–æ—Ä–æ–¥–∏–Ω–∞, —Ö–≤–æ—è, –º—è—Ç–∞, –º–µ–Ω—Ç–æ–ª"
            },
            "husky_kiwi": { 
                name: "–•–ê–°–ö–ò-–ú–ò–®–ö–ò - –ö–∏–≤–∏ –º—è—Ç–∞", 
                price: 400, 
                stock: 1, 
                category: "husky",
                icon: "üê∫",
                description: "–≠–∫–∑–æ—Ç–∏—á–µ—Å–∫–∏–π –∫–∏–≤–∏ —Å –ø—Ä–æ—Ö–ª–∞–¥–Ω–æ–π –º—è—Ç–æ–π - –∏–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ",
                ingredients: "–ö–∏–≤–∏, –º—è—Ç–∞, –ª–∞–π–º"
            },
            "husky_strawberry": { 
                name: "–•–ê–°–ö–ò-–ú–ò–®–ö–ò - –ö–ª—É–±–Ω–∏–∫–∞ –±–∞–Ω–∞–Ω", 
                price: 400, 
                stock: 1, 
                category: "husky",
                icon: "üê∫",
                description: "–°–ª–∞–¥–∫–∞—è –∫–ª—É–±–Ω–∏–∫–∞ –∏ –Ω–µ–∂–Ω—ã–π –±–∞–Ω–∞–Ω –≤ –∫—Ä–µ–º–æ–≤–æ–π –æ—Å–Ω–æ–≤–µ",
                ingredients: "–ö–ª—É–±–Ω–∏–∫–∞, –±–∞–Ω–∞–Ω, —Å–ª–∏–≤–∫–∏"
            },
            "husky_berries": { 
                name: "–•–ê–°–ö–ò-–ú–ò–®–ö–ò - –ë–æ—à–∫–∏ —è–≥–æ–¥—ã", 
                price: 400, 
                stock: 1, 
                category: "husky",
                icon: "üê∫",
                description: "–ú–∏–∫—Å –ª–µ—Å–Ω—ã—Ö —è–≥–æ–¥ —Å —Ö–≤–æ–π–Ω—ã–º–∏ –Ω–æ—Ç–∞–º–∏ –∏ —Å–ª–∞–¥–∫–∏–º –ø–æ—Å–ª–µ–≤–∫—É—Å–∏–µ–º",
                ingredients: "–õ–µ—Å–Ω—ã–µ —è–≥–æ–¥—ã, —Ö–≤–æ—è, –º–∞–ª–∏–Ω–∞"
            },
            "malasian_grape": { 
                name: "MALASIAN - –í–∏–Ω–æ–≥—Ä–∞–¥ –º–∞—Ä–º–µ–ª–∞–¥", 
                price: 400, 
                stock: 1, 
                category: "malasian",
                icon: "üçá",
                description: "–°–ª–∞–¥–∫–∏–π –≤–∏–Ω–æ–≥—Ä–∞–¥ –≤ –≤–∏–¥–µ –Ω–µ–∂–Ω–æ–≥–æ –º–∞—Ä–º–µ–ª–∞–¥–∞",
                ingredients: "–í–∏–Ω–æ–≥—Ä–∞–¥, –º–∞—Ä–º–µ–ª–∞–¥, —Å–∞—Ö–∞—Ä–Ω–∞—è –ø—É–¥—Ä–∞"
            },
            "malasian_passion": { 
                name: "MALASIAN - –ú–∞—Ä–∞–∫—É–π—è –∑–µ–ª–µ–Ω–æ–µ —è–±–ª–æ–∫–æ", 
                price: 400, 
                stock: 1, 
                category: "malasian",
                icon: "üçè",
                description: "–≠–∫–∑–æ—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Ä–∞–∫—É–π—è –∏ —Ö—Ä—É—Å—Ç—è—â–µ–µ –∑–µ–ª–µ–Ω–æ–µ —è–±–ª–æ–∫–æ",
                ingredients: "–ú–∞—Ä–∞–∫—É–π—è, –∑–µ–ª–µ–Ω–æ–µ —è–±–ª–æ–∫–æ, —Ü–∏—Ç—Ä—É—Å—ã"
            },
            "malasian_cherry": { 
                name: "MALASIAN - –õ–∏—Å—Ç –≤–∏—à–Ω–µ–≤—ã–π —Å–æ–∫", 
                price: 400, 
                stock: 1, 
                category: "malasian",
                icon: "üçí",
                description: "–ù–∞—Å—ã—â–µ–Ω–Ω—ã–π –≤–∏—à–Ω–µ–≤—ã–π —Å–æ–∫ —Å –Ω–æ—Ç–∞–º–∏ –≤–∏—à–Ω–µ–≤–æ–≥–æ –ª–∏—Å—Ç–∞",
                ingredients: "–í–∏—à–Ω—è, –≤–∏—à–Ω–µ–≤—ã–π –ª–∏—Å—Ç, —è–≥–æ–¥—ã"
            },
            "malasian_raspberry": { 
                name: "MALASIAN - –ú–∞–ª–∏–Ω–∞ –±–∞–Ω–∞–Ω", 
                price: 400, 
                stock: 1, 
                category: "malasian",
                icon: "üçå",
                description: "–ê—Ä–æ–º–∞—Ç–Ω–∞—è –º–∞–ª–∏–Ω–∞ –∏ —Å–ø–µ–ª—ã–π –±–∞–Ω–∞–Ω –≤ —Å–ª–∏–≤–æ—á–Ω–æ–π –æ—Å–Ω–æ–≤–µ",
                ingredients: "–ú–∞–ª–∏–Ω–∞, –±–∞–Ω–∞–Ω, –≤–∞–Ω–∏–ª—å, —Å–ª–∏–≤–∫–∏"
            },
            "malasian_forest": { 
                name: "MALASIAN - –ö—Ä–∞—Å–Ω—ã–µ –ª–µ—Å–Ω—ã–µ —è–≥–æ–¥—ã", 
                price: 400, 
                stock: 1, 
                category: "malasian",
                icon: "üå≤",
                description: "–ë—É–∫–µ—Ç –∫—Ä–∞—Å–Ω—ã—Ö –ª–µ—Å–Ω—ã—Ö —è–≥–æ–¥: –º–∞–ª–∏–Ω–∞, –∑–µ–º–ª—è–Ω–∏–∫–∞, –±—Ä—É—Å–Ω–∏–∫–∞",
                ingredients: "–õ–µ—Å–Ω—ã–µ —è–≥–æ–¥—ã, –º–∞–ª–∏–Ω–∞, –∑–µ–º–ª—è–Ω–∏–∫–∞, –±—Ä—É—Å–Ω–∏–∫–∞"
            }
        };

        // === –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–• –° GITHUB ===
        async function loadProductData() {
            try {
                const response = await fetch(DATA_FILE_URL + '?t=' + Date.now());
                const data = await response.json();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—ä–µ–∫—Ç products
                Object.keys(data.products).forEach(productId => {
                    if (products[productId]) {
                        products[productId].stock = data.products[productId].stock;
                    } else {
                        products[productId] = data.products[productId];
                    }
                });
                
                renderProducts();
                return true;
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º –±–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –µ—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å
                products = JSON.parse(JSON.stringify(baseProducts));
                renderProducts();
                showNotification('‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ', 'error');
                return false;
            }
        }

        // === –û–ë–ù–û–í–õ–Å–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–Ø –ó–ê–ö–ê–ó–ê ===
        async function confirmWithCode() {
            const code = document.getElementById('confirmationCode').value;
            
            if (!code || code.length !== 4) {
                showNotification('‚ùå –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ 4 —Ü–∏—Ñ—Ä!', 'error');
                return;
            }

            if (currentOrder && code === currentOrder.confirmationCode) {
                showNotification('üîÑ –°–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤...', 'success');
                
                // –°–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ GitHub
                let allUpdated = true;
                
                for (const productId in currentOrder.items) {
                    const quantity = currentOrder.items[productId];
                    const newStock = products[productId].stock - quantity;
                    
                    // 1. –û–±–Ω–æ–≤–ª—è–µ–º –ª–æ–∫–∞–ª—å–Ω–æ
                    products[productId].stock = newStock;
                    
                    // 2. –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –æ–±–Ω–æ–≤–ª—è–µ–º –Ω–∞ GitHub
                    const success = await updateStockOnGitHub(productId, newStock);
                    if (!success) {
                        allUpdated = false;
                    }
                    
                    // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
                    await new Promise(resolve => setTimeout(resolve, 500));
                }

                if (allUpdated) {
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞–∫–∞–∑
                    currentOrder.status = 'completed';
                    currentOrder.confirmedAt = new Date().toLocaleString('ru-RU');
                    orders.push(currentOrder);
                    saveAllOrders();

                    // –û—á–∏—â–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É
                    cart = {};
                    saveCart();

                    showNotification('üéâ –ó–∞–∫–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω! –¢–æ–≤–∞—Ä—ã —Å–ø–∏—Å–∞–Ω—ã —É –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π!', 'success');
                    showSection('catalog');
                    renderProducts();
                } else {
                    showNotification('‚ö†Ô∏è –ó–∞–∫–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω, –Ω–æ –±—ã–ª–∏ –æ—à–∏–±–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏', 'error');
                }
                
            } else {
                showNotification('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è!', 'error');
            }
        }

        // === –û–ë–ù–û–í–õ–Å–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –°–ë–†–û–°–ê ===
        async function resetAllProducts() {
            if (!confirm('–í–µ—Ä–Ω—É—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –≤ –ø—Ä–æ–¥–∞–∂—É? –≠—Ç–æ —Å–±—Ä–æ—Å–∏—Ç –≤—Å–µ –æ—Å—Ç–∞—Ç–∫–∏.')) return;
            
            try {
                let allUpdated = true;
                
                for (const productId in products) {
                    // –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –æ–±–Ω–æ–≤–ª—è–µ–º –Ω–∞ GitHub
                    const success = await updateStockOnGitHub(productId, 1);
                    if (!success) {
                        allUpdated = false;
                    }
                    await new Promise(resolve => setTimeout(resolve, 500));
                }

                if (allUpdated) {
                    // –û–±–Ω–æ–≤–ª—è–µ–º –ª–æ–∫–∞–ª—å–Ω–æ
                    await loadProductData();
                    
                    // –û—á–∏—â–∞–µ–º –∑–∞–∫–∞–∑—ã
                    orders = [];
                    saveAllOrders();
                    
                    showNotification('‚úÖ –í—Å–µ —Ç–æ–≤–∞—Ä—ã –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –≤ –ø—Ä–æ–¥–∞–∂—É!', 'success');
                } else {
                    showNotification('‚ö†Ô∏è –°–±—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω, –Ω–æ –±—ã–ª–∏ –æ—à–∏–±–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏', 'error');
                }
                
            } catch (error) {
                showNotification('‚ùå –û—à–∏–±–∫–∞ —Å–±—Ä–æ—Å–∞', 'error');
            }
        }

        // === –û–ë–ù–û–í–õ–Å–ù–ù–ê–Ø –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ===
        async function init() {
            await loadProductData();
            loadCart();
            loadAllOrders();
            selectDelivery('self');
            renderCart();
            renderUserOrders();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
            setInterval(() => {
                loadProductData();
            }, 10000);
            
            showNotification('–ú–∞–≥–∞–∑–∏–Ω –∑–∞–≥—Ä—É–∂–µ–Ω! –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ üöÄ', 'success');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤
        function loadAllOrders() {
            const allOrders = JSON.parse(localStorage.getItem('all_orders')) || [];
            orders = allOrders;
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤
        function saveAllOrders() {
            localStorage.setItem('all_orders', JSON.stringify(orders));
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–¥–æ–≤ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
        function saveConfirmationCodes() {
            localStorage.setItem('confirmationCodes', JSON.stringify(confirmationCodes));
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
        function loadProducts() {
            const savedProducts = localStorage.getItem('products');
            if (savedProducts) {
                products = JSON.parse(savedProducts);
            } else {
                products = JSON.parse(JSON.stringify(baseProducts));
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
        function saveProducts() {
            localStorage.setItem('products', JSON.stringify(products));
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–¥–µ–ª
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.querySelectorAll('.nav button').forEach(button => {
                button.classList.remove('active');
            });
            
            document.getElementById(sectionId).classList.add('active');
            
            if (sectionId === 'myOrders') {
                renderUserOrders();
            }
            
            if (sectionId === 'catalog') {
                renderProducts();
            }
            
            if (sectionId === 'admin' && isAdminLoggedIn) {
                loadAllOrders();
                renderAdminStats();
            }
            
            if (event && event.target) {
                event.target.classList.add('active');
            }
        }

        function showAdminSection() {
            if (isAdminLoggedIn) {
                showSection('admin');
                renderAdminStats();
            } else {
                showSection('admin');
                document.getElementById('adminLogin').style.display = 'block';
                document.getElementById('adminPanel').style.display = 'none';
            }
        }

        function loginToAdmin() {
            const password = document.getElementById('adminPassword').value;
            if (password === ADMIN_PASSWORD) {
                isAdminLoggedIn = true;
                document.getElementById('adminLogin').style.display = 'none';
                document.getElementById('adminPanel').style.display = 'block';
                loadAllOrders();
                renderAdminStats();
                showNotification('–£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å! üîê', 'success');
            } else {
                showNotification('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å! ‚ùå', 'error');
            }
        }

        // –í—ã–±–æ—Ä –¥–æ—Å—Ç–∞–≤–∫–∏
        function selectDelivery(type) {
            deliveryType = type;
            deliveryCost = type === 'city' ? 100 : 0;
            
            document.getElementById('deliverySelf').classList.toggle('selected', type === 'self');
            document.getElementById('deliveryCity').classList.toggle('selected', type === 'city');
            
            document.getElementById('radioSelf').checked = type === 'self';
            document.getElementById('radioCity').checked = type === 'city';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–∫–∏–¥–∫–µ
            const deliveryNote = document.getElementById('deliveryNote');
            if (type === 'self') {
                deliveryNote.innerHTML = 'üéâ <strong>–ê–∫—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞!</strong> 2 –±–∞–Ω–∫–∏ = 600‚ÇΩ, 3 –±–∞–Ω–∫–∏ = 900‚ÇΩ –∏ —Ç.–¥.';
            } else {
                deliveryNote.innerHTML = '‚ö†Ô∏è <strong>–ê–∫—Ü–∏—è –Ω–µ –¥–µ–π—Å—Ç–≤—É–µ—Ç</strong> –ø—Ä–∏ –¥–æ—Å—Ç–∞–≤–∫–µ - –≤—Å–µ –±–∞–Ω–∫–∏ –ø–æ 400‚ÇΩ';
            }
            
            renderCart();
        }

        // –†–µ–Ω–¥–µ—Ä —Ç–æ–≤–∞—Ä–æ–≤
        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';

            Object.keys(products).forEach(productId => {
                const product = products[productId];
                
                const productCard = document.createElement('div');
                productCard.className = `product-card ${product.category}`;
                
                let promoBadge = '';
                let soldOutBadge = '';
                
                if (product.stock > 0) {
                    promoBadge = '<div class="promo-badge">üî• –ê–∫—Ü–∏—è</div>';
                } else {
                    soldOutBadge = '<div class="sold-out-badge">‚ùå –ü–†–û–î–ê–ù–û</div>';
                }
                
                productCard.innerHTML = `
                    ${promoBadge}
                    ${soldOutBadge}
                    <div class="brand-icon">${product.icon}</div>
                    <h3>${product.name}</h3>
                    <div class="flavor-description">${product.description}</div>
                    <div class="ingredients">–°–æ—Å—Ç–∞–≤: ${product.ingredients}</div>
                    <div class="price">${product.price} ‚ÇΩ</div>
                    <div class="${product.stock > 0 ? 'stock' : 'out-of-stock'}">
                        ${product.stock > 0 ? `‚úÖ –í –Ω–∞–ª–∏—á–∏–∏: ${product.stock} —à—Ç` : '‚ùå –ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏'}
                    </div>
                    <button onclick="addToCart('${productId}')" 
                            ${product.stock === 0 ? 'disabled' : ''}>
                        ${product.stock > 0 ? 'üõí –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É' : '–¢–æ–≤–∞—Ä –∑–∞–∫–æ–Ω—á–∏–ª—Å—è'}
                    </button>
                `;
                
                grid.appendChild(productCard);
            });
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É
        function addToCart(productId) {
            if (products[productId].stock === 0) {
                showNotification('‚ùå –≠—Ç–æ—Ç —Ç–æ–≤–∞—Ä –∑–∞–∫–æ–Ω—á–∏–ª—Å—è!', 'error');
                return;
            }

            const currentInCart = cart[productId] || 0;
            
            if (currentInCart >= products[productId].stock) {
                showNotification(`‚ùå –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: ${products[productId].stock} —à—Ç.`, 'error');
                return;
            }

            if (cart[productId]) {
                cart[productId]++;
            } else {
                cart[productId] = 1;
            }

            saveCart();
            renderCart();
            showNotification('‚úÖ –¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É! üõí', 'success');
        }

        // –†–∞–±–æ—Ç–∞ —Å –∫–æ—Ä–∑–∏–Ω–æ–π
        function loadCart() {
            const savedCart = localStorage.getItem('cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
            }
        }

        function saveCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        function removeFromCart(productId) {
            delete cart[productId];
            saveCart();
            renderCart();
            showNotification('–¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã', 'error');
        }

        function updateQuantity(productId, change) {
            if (cart[productId]) {
                const newQuantity = cart[productId] + change;
                
                if (newQuantity <= 0) {
                    removeFromCart(productId);
                    return;
                }
                
                if (newQuantity > products[productId].stock) {
                    showNotification(`‚ùå –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: ${products[productId].stock} —à—Ç.`, 'error');
                    return;
                }
                
                cart[productId] = newQuantity;
                saveCart();
                renderCart();
            }
        }

        function clearCart() {
            if (Object.keys(cart).length === 0) {
                showNotification('–ö–æ—Ä–∑–∏–Ω–∞ —É–∂–µ –ø—É—Å—Ç–∞!', 'error');
                return;
            }
            
            if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—é –∫–æ—Ä–∑–∏–Ω—É?')) {
                cart = {};
                saveCart();
                renderCart();
                showNotification('–ö–æ—Ä–∑–∏–Ω–∞ –æ—á–∏—â–µ–Ω–∞ üóëÔ∏è', 'error');
            }
        }

        // –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Å –∞–∫—Ü–∏–µ–π
        function calculateTotal() {
            let total = 0;
            let itemCount = 0;
            
            Object.keys(cart).forEach(productId => {
                itemCount += cart[productId];
            });
            
            if (deliveryType === 'self') {
                if (itemCount === 1) total = 400;
                else if (itemCount === 2) total = 600;
                else if (itemCount === 3) total = 900;
                else if (itemCount === 4) total = 1200;
                else if (itemCount === 5) total = 1500;
                else if (itemCount === 6) total = 1800;
                else if (itemCount === 7) total = 2100;
                else if (itemCount === 8) total = 2400;
                else if (itemCount === 9) total = 2700;
                else if (itemCount === 10) total = 3000;
                else total = itemCount * 300;
            } else {
                total = itemCount * 400;
            }
            
            total += deliveryCost;
            return { total, itemCount };
        }

        // –†–µ–Ω–¥–µ—Ä –∫–æ—Ä–∑–∏–Ω—ã
        function renderCart() {
            const cartItems = document.getElementById('cartItems');
            const totalAmount = document.getElementById('totalAmount');
            const promoSavings = document.getElementById('promoSavings');
            
            if (Object.keys(cart).length === 0) {
                cartItems.innerHTML = `
                    <div class="empty-state">
                        <i>üõí</i>
                        <h3>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</h3>
                        <p>–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞</p>
                    </div>
                `;
                totalAmount.textContent = '0';
                promoSavings.innerHTML = '';
                return;
            }
            
            cartItems.innerHTML = '';
            let regularPrice = 0;
            
            Object.keys(cart).forEach(productId => {
                const product = products[productId];
                const quantity = cart[productId];
                
                regularPrice += quantity * product.price;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-info">
                        <div class="cart-item-name">${product.name}</div>
                        <div class="cart-item-details">${product.description}</div>
                    </div>
                    <div class="cart-item-actions">
                        <button class="btn-decrease" onclick="updateQuantity('${productId}', -1)">-</button>
                        <span style="font-weight: bold; font-size: 1.2em; min-width: 30px; text-align: center;">${quantity}</span>
                        <button class="btn-increase" onclick="updateQuantity('${productId}', 1)">+</button>
                        <button class="btn-remove" onclick="removeFromCart('${productId}')">üóëÔ∏è</button>
                    </div>
                `;
                cartItems.appendChild(cartItem);
            });
            
            const { total, itemCount } = calculateTotal();
            totalAmount.textContent = total;
            
            if (deliveryType === 'self' && itemCount >= 2) {
                const savings = regularPrice - total;
                if (savings > 0) {
                    promoSavings.innerHTML = `üéâ –í—ã —ç–∫–æ–Ω–æ–º–∏—Ç–µ: ${savings} ‚ÇΩ`;
                } else {
                    promoSavings.innerHTML = '';
                }
            } else {
                promoSavings.innerHTML = '';
            }
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
        function getDeviceId() {
            let deviceId = localStorage.getItem('deviceId');
            if (!deviceId) {
                deviceId = 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                localStorage.setItem('deviceId', deviceId);
            }
            return deviceId;
        }

        // –†–µ–Ω–¥–µ—Ä –∑–∞–∫–∞–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function renderUserOrders() {
            const userOrdersList = document.getElementById('userOrdersList');
            const userOrders = orders.filter(order => order.userDevice === getDeviceId());
            
            if (userOrders.length === 0) {
                userOrdersList.innerHTML = `
                    <div class="empty-state">
                        <i>üì¶</i>
                        <h3>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤</h3>
                        <p>–°–¥–µ–ª–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –∑–∞–∫–∞–∑ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ!</p>
                    </div>
                `;
                return;
            }
            
            userOrdersList.innerHTML = '';
            const sortedOrders = [...userOrders].reverse();
            
            sortedOrders.forEach(order => {
                const orderElement = document.createElement('div');
                orderElement.className = 'order-summary';
                orderElement.style.marginBottom = '20px';
                
                let statusClass = 'status-pending';
                let statusText = '‚è≥ –û–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è';
                
                if (order.status === 'confirmed') {
                    statusClass = 'status-confirmed';
                    statusText = '‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω';
                } else if (order.status === 'completed') {
                    statusClass = 'status-completed';
                    statusText = 'üöÄ –ó–∞–≤–µ—Ä—à–µ–Ω';
                } else if (order.status === 'cancelled') {
                    statusClass = 'status-cancelled';
                    statusText = '‚ùå –û—Ç–º–µ–Ω–µ–Ω';
                }
                
                orderElement.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                        <div>
                            <h3>–ó–∞–∫–∞–∑ #${order.id}</h3>
                            <p><strong>–í—Ä–µ–º—è:</strong> ${order.timestamp}</p>
                            <p><strong>–î–æ—Å—Ç–∞–≤–∫–∞:</strong> ${order.deliveryType === 'self' ? '–°–∞–º–æ–≤—ã–≤–æ–∑' : '–î–æ—Å—Ç–∞–≤–∫–∞'}</p>
                        </div>
                        <div class="order-status-badge ${statusClass}">
                            ${statusText}
                        </div>
                    </div>
                    
                    <div style="margin: 15px 0;">
                        <strong>–°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞:</strong>
                        ${Object.keys(order.items).map(productId => {
                            return `<div style="margin: 5px 0;">‚Ä¢ ${products[productId].name} √ó ${order.items[productId]}</div>`;
                        }).join('')}
                    </div>
                    
                    <div style="border-top: 2px solid #4caf50; padding-top: 10px; font-size: 1.2em; font-weight: bold;">
                        –ò—Ç–æ–≥–æ: ${order.total} ‚ÇΩ
                    </div>
                    
                    <div style="background: #e8f5e9; padding: 15px; border-radius: 10px; margin-top: 15px;">
                        <strong>üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã:</strong><br>
                        –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –∑–∞–∫–∞–∑–∞ –ø–∏—à–∏—Ç–µ –≤ Telegram: <strong>@spank46</strong>
                    </div>
                `;
                
                userOrdersList.appendChild(orderElement);
            });
        }

        // –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
        function reserveOrder() {
            if (Object.keys(cart).length === 0) {
                showNotification('–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É!', 'error');
                return;
            }

            const { total, itemCount } = calculateTotal();
            const orderId = 'ORD' + Date.now();
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
            const confirmationCode = Math.floor(1000 + Math.random() * 9000).toString();
            
            currentOrder = {
                id: orderId,
                items: { ...cart },
                total: total,
                itemCount: itemCount,
                deliveryType: deliveryType,
                deliveryCost: deliveryCost,
                timestamp: new Date().toLocaleString('ru-RU'),
                status: 'reserved',
                userDevice: getDeviceId(),
                confirmationCode: confirmationCode
            };

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
            confirmationCodes[orderId] = confirmationCode;
            saveConfirmationCodes();

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞
            showSection('reserve');
            renderReserveSummary();
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram —Å –∫–æ–¥–æ–º
            sendReservationToTelegram(currentOrder);
            
            showNotification('‚úÖ –ó–∞–∫–∞–∑ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω! –ù–∞–ø–∏—à–∏—Ç–µ –≤ Telegram –¥–ª—è –æ–ø–ª–∞—Ç—ã.', 'success');
        }

        function renderReserveSummary() {
            const reserveSummary = document.getElementById('reserveSummary');
            document.getElementById('reserveTotal').textContent = currentOrder.total;
            
            let summaryHTML = `
                <h3>–í–∞—à –∑–∞–∫–∞–∑:</h3>
                <div style="margin: 20px 0;">
                    <strong>–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞:</strong> ${currentOrder.id} <br>
                    <strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤:</strong> ${currentOrder.itemCount} —à—Ç. <br>
                    <strong>–¢–∏–ø –¥–æ—Å—Ç–∞–≤–∫–∞:</strong> ${currentOrder.deliveryType === 'self' ? '–°–∞–º–æ–≤—ã–≤–æ–∑' : '–î–æ—Å—Ç–∞–≤–∫–∞'} <br>
                    <strong>–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞:</strong> ${currentOrder.total} ‚ÇΩ
                </div>
                <h4>–°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞:</h4>
            `;
            
            Object.keys(currentOrder.items).forEach(productId => {
                const product = products[productId];
                const quantity = currentOrder.items[productId];
                summaryHTML += `
                    <div class="order-item">
                        <div>${product.name} √ó ${quantity}</div>
                        <div>${quantity * product.price} ‚ÇΩ</div>
                    </div>
                `;
            });
            
            reserveSummary.innerHTML = summaryHTML;
        }

        // –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤ Telegram —Å –∫–æ–¥–æ–º
        async function sendReservationToTelegram(order) {
            const message = `
üõí –ù–û–í–´–ô –ó–ê–ö–ê–ó #${order.id}

üí∞ –°—É–º–º–∞: ${order.total} ‚ÇΩ
üì¶ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: ${order.itemCount} —à—Ç.
üöö –î–æ—Å—Ç–∞–≤–∫–∞: ${order.deliveryType === 'self' ? '–°–∞–º–æ–≤—ã–≤–æ–∑' : '–î–æ—Å—Ç–∞–≤–∫–∞ (+100‚ÇΩ)'}
‚è∞ –í—Ä–µ–º—è: ${order.timestamp}

üé´ –ö–û–î –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–Ø: ${order.confirmationCode}

üìã –°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞:
${Object.keys(order.items).map(productId => {
    return `‚Ä¢ ${products[productId].name} √ó ${order.items[productId]}`
}).join('\n')}

üí≥ –†–ï–ö–í–ò–ó–ò–¢–´ –î–õ–Ø –û–ü–õ–ê–¢–´:
–ö–∞—Ä—Ç–∞: 2200 2402 4830 5209
–ë–∞–Ω–∫: –í–¢–ë
–ü–æ–ª—É—á–∞—Ç–µ–ª—å: –î–∞–Ω–∏–ª –û.

üí¨ –°–æ–æ–±—â–∏—Ç–µ –∫–æ–¥ –∫–ª–∏–µ–Ω—Ç—É –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
            `.trim();

            try {
                await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: TELEGRAM_GROUP_ID,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });

            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram:', error);
            }
        }

        // –ê–¥–º–∏–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        function renderAdminStats() {
            if (!isAdminLoggedIn) return;

            const allOrders = orders;
            const totalOrders = allOrders.length;
            const totalRevenue = allOrders.reduce((sum, order) => sum + order.total, 0);
            const completedOrders = allOrders.filter(order => order.status === 'completed').length;

            document.getElementById('totalOrders').textContent = totalOrders;
            document.getElementById('totalRevenue').textContent = totalRevenue + ' ‚ÇΩ';
            document.getElementById('completedOrders').textContent = completedOrders;

            const ordersList = document.getElementById('ordersList');
            ordersList.innerHTML = '<h3>–í—Å–µ –∑–∞–∫–∞–∑—ã (—Å–æ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤):</h3>';

            if (allOrders.length === 0) {
                ordersList.innerHTML += '<p style="text-align: center; padding: 20px;">–ó–∞–∫–∞–∑–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</p>';
                return;
            }

            allOrders.reverse().forEach(order => {
                const orderElement = document.createElement('div');
                orderElement.style.background = '#455a64';
                orderElement.style.padding = '20px';
                orderElement.style.borderRadius = '15px';
                orderElement.style.margin = '15px 0';
                orderElement.style.border = `3px solid ${
                    order.status === 'completed' ? '#4caf50' : 
                    order.status === 'confirmed' ? '#2196f3' : 
                    order.status === 'cancelled' ? '#f44336' : '#ff9800'
                }`;

                let orderDetails = '';
                Object.keys(order.items).forEach(productId => {
                    const productName = products[productId] ? products[productId].name : productId;
                    orderDetails += `<div style="margin: 3px 0;">‚Ä¢ ${productName} √ó ${order.items[productId]}</div>`;
                });

                orderElement.innerHTML = `
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <div>
                                <strong style="font-size: 1.2em;">#${order.id}</strong> - ${order.total} ‚ÇΩ
                            </div>
                            <span style="color: ${
                                order.status === 'completed' ? '#4caf50' : 
                                order.status === 'confirmed' => '#2196f3' : 
                                order.status === 'cancelled' ? '#f44336' : '#ff9800'
                            }; font-weight: bold;">
                                ${order.status === 'completed' ? '‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω' : 
                                  order.status === 'confirmed' ? '‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω' : 
                                  order.status === 'cancelled' ? '‚ùå –û—Ç–º–µ–Ω–µ–Ω' : '‚è≥ –û–∂–∏–¥–∞–µ—Ç'}
                            </span>
                        </div>
                        <div style="color: #ccc; font-size: 0.9em;">
                            <div>üìÖ ${order.timestamp}</div>
                            <div>üöö ${order.deliveryType === 'self' ? '–°–∞–º–æ–≤—ã–≤–æ–∑' : '–î–æ—Å—Ç–∞–≤–∫–∞ (+100‚ÇΩ)'}</div>
                            <div>üì± –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${order.userDevice || '–Ω–µ —É–∫–∞–∑–∞–Ω–æ'}</div>
                            ${order.confirmationCode ? `<div>üîë –ö–æ–¥: ${order.confirmationCode}</div>` : ''}
                        </div>
                    </div>
                    
                    <div style="background: #37474f; padding: 15px; border-radius: 10px; margin: 10px 0;">
                        <strong style="color: #fff;">–°–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞:</strong>
                        ${orderDetails}
                    </div>
                `;

                ordersList.appendChild(orderElement);
            });
        }

        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 4000);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            setupGitHubToken();
        });

    </script>
</body>
</html>
