<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vape Shop | –ü—Ä–µ–º–∏—É–º –∂–∏–∂–∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            overflow: hidden;
            border: 1px solid #e0e0e0;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="1" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
        }

        .logo {
            font-size: 2.8em;
            margin-bottom: 10px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .tagline {
            font-size: 1.2em;
            opacity: 0.9;
            margin-bottom: 5px;
            font-weight: 300;
        }

        .subtagline {
            font-size: 0.9em;
            opacity: 0.7;
            font-weight: 300;
        }

        .promo-banner {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 18px;
            text-align: center;
            font-weight: bold;
            font-size: 1.1em;
            border-bottom: 3px solid #f1c40f;
            position: relative;
        }

        .promo-banner::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, #f1c40f, transparent);
        }

        /* –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º–∏ */
        .promo-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
            border: 2px solid white;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .delivery-note {
            color: #e74c3c;
            font-weight: bold;
            margin: 10px 0;
            text-align: center;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">üí® VAPE SHOP</div>
            <div class="tagline">–ü—Ä–µ–º–∏—É–º –∂–∏–∂–∏ –¥–ª—è –Ω–∞—Å—Ç–æ—è—â–∏—Ö —Ü–µ–Ω–∏—Ç–µ–ª–µ–π</div>
            <div class="subtagline">–ö–∞—á–µ—Å—Ç–≤–æ ‚Ä¢ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å ‚Ä¢ –î–æ—Å—Ç–∞–≤–∫–∞</div>
        </div>

        <div class="promo-banner">
            üéâ –í–´–ì–û–î–ù–ê–Ø –ê–ö–¶–ò–Ø: 1=400‚ÇΩ ‚Ä¢ 2=600‚ÇΩ ‚Ä¢ 3=900‚ÇΩ ‚Ä¢ 4=1200‚ÇΩ ‚Ä¢ 5=1500‚ÇΩ
        </div>

        <!-- –û—Å—Ç–∞–ª—å–Ω–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
        <div class="nav">
            <button onclick="showSection('catalog')" class="active">üõçÔ∏è –ö–∞—Ç–∞–ª–æ–≥</button>
            <button onclick="showSection('cart')">üõí –ö–æ—Ä–∑–∏–Ω–∞</button>
            <button onclick="showAdminSection()">‚öôÔ∏è –ê–¥–º–∏–Ω</button>
        </div>

        <div class="content">
            <!-- –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ -->
            <div id="catalog" class="section active">
                <h2>üéØ –í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ—é –∂–∏–∂—É</h2>
                <p style="text-align: center; color: #666; margin-bottom: 20px;">–¢–æ–ª—å–∫–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è ‚Ä¢ –í –Ω–∞–ª–∏—á–∏–∏ 1 –±–∞–Ω–∫–∞ –∫–∞–∂–¥–æ–≥–æ –≤–∫—É—Å–∞</p>
                <div class="products-grid" id="productsGrid">
                    <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                </div>
            </div>

            <!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
            <div id="cart" class="section">
                <h2>üõí –í–∞—à –∑–∞–∫–∞–∑</h2>
                <div id="cartItems">
                    <!-- –¢–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ -->
                </div>
                <div class="cart-total">
                    <h3>–ò—Ç–æ–≥–æ: <span id="totalAmount">0</span> —Ä—É–±</h3>
                    <div id="promoSavings" style="color: #27ae60; font-weight: bold; margin: 10px 0; font-size: 1.1em;"></div>
                    
                    <!-- –í–´–ë–û–† –î–û–°–¢–ê–í–ö–ò -->
                    <div class="delivery-options">
                        <div class="delivery-option" onclick="selectDelivery('self')" id="deliverySelf">
                            <input type="radio" name="delivery" id="radioSelf"> 
                            <label for="radioSelf"><strong>‚úÖ –°–∞–º–æ–≤—ã–≤–æ–∑ –±–µ—Å–ø–ª–∞—Ç–Ω–æ</strong><br>
                            <small>–ê–∫—Ü–∏—è: 2 –±–∞–Ω–∫–∏ = 600‚ÇΩ, 3 –±–∞–Ω–∫–∏ = 900‚ÇΩ –∏ —Ç.–¥.</small></label>
                        </div>
                        <div class="delivery-option" onclick="selectDelivery('city')" id="deliveryCity">
                            <input type="radio" name="delivery" id="radioCity">
                            <label for="radioCity"><strong>üöö –î–æ—Å—Ç–∞–≤–∫–∞: +100 —Ä—É–±</strong><br>
                            <small>–ë–µ–∑ –∞–∫—Ü–∏–∏ - –≤—Å–µ –±–∞–Ω–∫–∏ –ø–æ 400‚ÇΩ</small></label>
                        </div>
                    </div>
                    
                    <div id="deliveryNote" class="delivery-note"></div>
                    
                    <div class="cart-actions">
                        <button class="btn-clear" onclick="clearCart()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
                        <button class="btn-checkout" onclick="checkout()">‚úÖ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
                    </div>
                </div>
            </div>

            <!-- –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
        </div>
    </div>

    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Telegram
        const TELEGRAM_BOT_TOKEN = '8368198224:AAFal9lXTHHIRD4rn-d0FqeVBKpVQrng88M';
        const TELEGRAM_CHAT_ID = '1423502260';
        const TELEGRAM_GROUP_ID = '-1003277435312';
        const FRIEND_CHAT_ID = '6007551643';

        // –ê–¥–º–∏–Ω –ø–∞—Ä–æ–ª—å
        const ADMIN_PASSWORD = 'admin123';

        // –î–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–æ–≤ (–∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫)
        const products = {
            // D.L.T.A.
            "delta_chicken": { 
                name: "D.L.T.A. - –ì—Ä—É–¥–∫–∞ –∏ –∫–æ—Ä–∏—Ü–∞", 
                price: 400, 
                stock: 1, 
                category: "delta",
                icon: "üçó"
            },
            "delta_pear": { 
                name: "D.L.T.A. - –ì—Ä—É—à–∞ –∏ –∫–æ—Ä–∏—Ü–∞", 
                price: 400, 
                stock: 1, 
                category: "delta",
                icon: "üçê"
            },
            "delta_irga1": { 
                name: "D.L.T.A. - –°–æ –≤–∫—É—Å–æ–º –∏—Ä–≥–∏", 
                price: 400, 
                stock: 1, 
                category: "delta",
                icon: "üçá"
            },
            "delta_irga2": { 
                name: "D.L.T.A. - –°–æ –≤–∫—É—Å–æ–º –∏—Ä–≥–∏", 
                price: 400, 
                stock: 1, 
                category: "delta",
                icon: "üçá"
            },
            
            // –ú–û–†–û–ó–ù–´–ô –î–ñ–û
            "morozny_currant": { 
                name: "–ú–û–†–û–ó–ù–´–ô –î–ñ–û - –°–º–æ—Ä–æ–¥–∏–Ω–∞ —Ö–≤–æ—è –∏ –º—è—Ç–∞", 
                price: 400, 
                stock: 1, 
                category: "morozny",
                icon: "‚ùÑÔ∏è"
            },
            
            // –•–ê–°–ö–ò-–ú–ò–®–ö–ò
            "husky_kiwi": { 
                name: "–•–ê–°–ö–ò-–ú–ò–®–ö–ò - –ö–∏–≤–∏ –º—è—Ç–∞", 
                price: 400, 
                stock: 1, 
                category: "husky",
                icon: "üê∫"
            },
            "husky_strawberry": { 
                name: "–•–ê–°–ö–ò-–ú–ò–®–ö–ò - –ö–ª—É–±–Ω–∏–∫–∞ –±–∞–Ω–∞–Ω", 
                price: 400, 
                stock: 1, 
                category: "husky",
                icon: "üê∫"
            },
            "husky_berries": { 
                name: "–•–ê–°–ö–ò-–ú–ò–®–ö–ò - –ë–æ—à–∫–∏ —è–≥–æ–¥—ã", 
                price: 400, 
                stock: 1, 
                category: "husky",
                icon: "üê∫"
            },
            
            // MALASIAN
            "malasian_lime": { 
                name: "MALASIAN - –õ–∞–π–º –∫–∏–≤–∏", 
                price: 400, 
                stock: 1, 
                category: "malasian",
                icon: "ü•ù"
            },
            "malasian_grape": { 
                name: "MALASIAN - –í–∏–Ω–æ–≥—Ä–∞–¥ –º–∞—Ä–º–µ–ª–∞–¥", 
                price: 400, 
                stock: 1, 
                category: "malasian",
                icon: "üçá"
            },
            "malasian_passion": { 
                name: "MALASIAN - –ú–∞—Ä–∞–∫—É–π—è –∑–µ–ª–µ–Ω–æ–µ —è–±–ª–æ–∫–æ", 
                price: 400, 
                stock: 1, 
                category: "malasian",
                icon: "üçè"
            },
            "malasian_cherry": { 
                name: "MALASIAN - –õ–∏—Å—Ç –≤–∏—à–Ω–µ–≤—ã–π —Å–æ–∫", 
                price: 400, 
                stock: 1, 
                category: "malasian",
                icon: "üçí"
            },
            "malasian_raspberry": { 
                name: "MALASIAN - –ú–∞–ª–∏–Ω–∞ –±–∞–Ω–∞–Ω", 
                price: 400, 
                stock: 1, 
                category: "malasian",
                icon: "üçå"
            },
            "malasian_forest": { 
                name: "MALASIAN - –ö—Ä–∞—Å–Ω—ã–µ –ª–µ—Å–Ω—ã–µ —è–≥–æ–¥—ã", 
                price: 400, 
                stock: 1, 
                category: "malasian",
                icon: "üå≤"
            }
        };

        // –ö–æ—Ä–∑–∏–Ω–∞ –∏ –∑–∞–∫–∞–∑—ã
        let cart = {};
        let orders = JSON.parse(localStorage.getItem('orders')) || [];
        let currentOrder = null;
        let uploadedScreenshot = null;
        let isAdminLoggedIn = false;
        let deliveryType = 'self';
        let deliveryCost = 0;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            loadCart();
            renderProducts();
            selectDelivery('self');
            renderCart();
            showNotification('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Vape Shop! üöÄ', 'success');
        }

        // –ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê –ê–ö–¶–ò–ò
        function calculatePriceWithPromo(totalItems) {
            // –ê–∫—Ü–∏—è: 1=400, 2=600, 3=900, 4=1200, 5=1500 –∏ —Ç.–¥.
            return totalItems * 300; // 300 —Ä—É–±–ª–µ–π –∑–∞ –±–∞–Ω–∫—É –ø—Ä–∏ –∞–∫—Ü–∏–∏
        }

        function calculateOriginalPrice(totalItems) {
            return totalItems * 400; // 400 —Ä—É–±–ª–µ–π –∑–∞ –±–∞–Ω–∫—É –±–µ–∑ –∞–∫—Ü–∏–∏
        }

        function calculateSavings(totalItems) {
            const originalPrice = calculateOriginalPrice(totalItems);
            const promoPrice = calculatePriceWithPromo(totalItems);
            return originalPrice - promoPrice;
        }

        function renderCart() {
            const cartItems = document.getElementById('cartItems');
            const totalAmount = document.getElementById('totalAmount');
            const promoSavings = document.getElementById('promoSavings');
            
            if (Object.keys(cart).length === 0) {
                cartItems.innerHTML = `
                    <div class="empty-state">
                        <div>üõí</div>
                        <h3>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</h3>
                        <p>–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞</p>
                    </div>
                `;
                totalAmount.textContent = '0';
                promoSavings.innerHTML = '';
                return;
            }

            let total = 0;
            const totalItems = Object.values(cart).reduce((sum, qty) => sum + qty, 0);
            cartItems.innerHTML = '';

            Object.keys(cart).forEach(productId => {
                const product = products[productId];
                const quantity = cart[productId];
                const itemTotal = product.price * quantity;

                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-info">
                        <div class="cart-item-name">${product.name}</div>
                        <div class="cart-item-details">
                            ${product.price} —Ä—É–± √ó ${quantity} —à—Ç = ${itemTotal} —Ä—É–±
                        </div>
                    </div>
                    <div class="cart-item-actions">
                        <button class="btn-decrease" onclick="updateQuantity('${productId}', -1)">-</button>
                        <span>${quantity}</span>
                        <button class="btn-increase" onclick="updateQuantity('${productId}', 1)">+</button>
                        <button class="btn-remove" onclick="removeFromCart('${productId}')">‚ùå</button>
                    </div>
                `;
                
                cartItems.appendChild(cartItem);
            });

            // –ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê –ê–ö–¶–ò–ò
            let savings = 0;
            
            if (deliveryType === 'self' && totalItems >= 2) {
                // –ê–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç: –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Å–∫–∏–¥–∫–∞
                total = calculatePriceWithPromo(totalItems);
                savings = calculateSavings(totalItems);
                promoSavings.innerHTML = `üéâ –í—ã —ç–∫–æ–Ω–æ–º–∏—Ç–µ: ${savings} —Ä—É–± –ø–æ –∞–∫—Ü–∏–∏!`;
            } else {
                // –ë–µ–∑ –∞–∫—Ü–∏–∏ –∏–ª–∏ –¥–æ—Å—Ç–∞–≤–∫–∞
                total = calculateOriginalPrice(totalItems);
                if (deliveryType === 'city' && totalItems >= 2) {
                    promoSavings.innerHTML = '‚ö†Ô∏è –ê–∫—Ü–∏—è –¥–µ–π—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–∞–º–æ–≤—ã–≤–æ–∑–µ';
                } else if (totalItems === 1) {
                    promoSavings.innerHTML = '‚ú® –í–æ–∑—å–º–∏—Ç–µ 2 –±–∞–Ω–∫–∏ –∏ –ø–æ–ª—É—á–∏—Ç–µ —Å–∫–∏–¥–∫—É!';
                } else {
                    promoSavings.innerHTML = '';
                }
            }

            // –î–æ–±–∞–≤–ª—è–µ–º –¥–æ—Å—Ç–∞–≤–∫—É
            total += deliveryCost;

            totalAmount.textContent = total;
        }

        // –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π...
        // [–ó–¥–µ—Å—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–Ω—ã–π –∫–æ–¥ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏]
    </script>
</body>
</html>
